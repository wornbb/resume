{"version":3,"sources":["../node_modules/pdfjs-dist/build sync","components/logo/logo.svg","containers/home/resume.pdf","components/loader/index.js","actions/types.js","reducers/auth.js","reducers/modal.js","reducers/register.js","reducers/userprofile.js","reducers/home.js","reducers/users.js","reducers/forum.js","reducers/thread.js","reducers/index.js","store.js","components/logo/index.js","components/navlink/index.js","components/button/index.js","components/usermenu/guestnav.js","components/avatar/index.js","components/usermenu/usernav.js","components/usermenu/index.js","api/constants.js","utils/config.js","api/forum.js","api/thread.js","api/image.js","actions/modal.js","utils/errorhandler.js","actions/auth.js","api/user.js","actions/register.js","actions/userprofile.js","actions/users.js","actions/forum.js","actions/thread.js","actions/post.js","api/post.js","containers/header/index.js","components/statusmessage/index.js","components/register/index.js","components/modal/index.js","containers/modal/register.js","components/login/index.js","containers/modal/login.js","components/editprofile/index.js","containers/modal/editprofile.js","containers/modal/index.js","components/profile/index.js","containers/userprofile/index.js","components/usercard/index.js","components/userlist/index.js","containers/users/index.js","components/richeditor/index.js","components/post/index.js","components/newpost/index.js","components/thread/index.js","containers/thread/index.js","components/forumlist/index.js","containers/home/index.js","components/threadlist/index.js","components/newthread/index.js","containers/forum/index.js","components/notfoundpage/index.js","registerServiceWorker.js","index.js"],"names":["webpackEmptyContext","req","e","Error","code","keys","resolve","module","exports","id","Loader","props","className","loginInitialState","isLoading","isAuthenticated","username","name","avatar","token","isStaff","error","editInitialState","isEditing","editError","editSuccess","initialState","auth","state","action","type","modalType","modalProps","modal","register","profile","userProfile","forums","home","users","forumInitialState","slug","description","threads","newThreadInitialState","newThreadLoading","newThreadSuccess","newThreadName","newThreadContent","newThreadId","newThreadError","newThreadShow","forum","newThread","content","pinned","creator","createdt","posts","newPostSuccess","newPostLoading","newPostError","deletePostList","isDeleting","deleteError","thread","createdAt","created_at","filter","rootReducer","combineReducers","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","persistConfig","key","storage","stateReconciler","autoMergeLevel2","persistedReducer","persistReducer","store","createStore","applyMiddleware","thunkMiddleware","persistor","persistStore","Logo","src","logo","alt","Navlink","Icon","to","href","Button","Component","render","this","disabled","loading","onClick","children","defaultProps","GuestNav","showLogin","showRegister","Avatar","centered","link","test","replace","avatarComponent","Image","UserNav","logout","showEditProfile","history","Menu","fluid","inverted","borderless","size","Item","Dropdown","item","simple","text","direction","push","icon","withRouter","UserMenu","API_URL","process","USER_URL","FORUM_URL","THREAD_URL","POST_URL","getConfig","getState","headers","Authorization","fetchForumApi","axios","get","fetchThreadApi","imageUploadApi","file","transform","formData","FormData","append","upload_preset","post","showModal","apiErrorHandler","response","data","erd","detail","Object","errorString","indexOf","errorField","String","charAt","toUpperCase","substring","console","log","login","password","dispatch","loginRequest","loginApi","then","loginSuccess","catch","errorMessage","loginFailure","is_staff","editProfile","newProfile","editProfileRequest","put","editProfileApi","editProfileSuccess","editProfileFailure","registerRequest","registerApi","registerSuccess","registerFailure","fetchUserProfile","fetchUserProfileRequest","fetchUserProfileApi","fetchUserProfileSuccess","fetchUserProfileFailure","fetchUsers","fetchUsersRequest","fetchUsersSuccess","fetchUsersFailure","fetchForumRequest","fetchForumSuccess","fetchForumFailure","fetchThreadRequest","fetchThreadSuccess","fetchThreadFailure","createThread","createThreadRequest","createThreadApi","createThreadSuccess","createThreadFailure","deleteThread","deleteThreadRequest","delete","deleteThreadApi","deleteThreadSuccess","deleteThreadFailure","createPost","newPost","createPostRequest","createPostApi","createPostSuccess","thread_id","createPostFailure","deletePost","threadID","deletePostRequest","deletePostApi","deletePostSuccess","deletePostFailure","HeaderContainer","handleLogout","connect","StatusMessage","loadingClassName","loadingMessage","errorClassName","success","successClassName","successMessage","nothing","nothingClassName","nothingMessage","Message","attached","Content","Header","positive","Register","constructor","super","handleChange","value","setState","handleCheckbox","checked","isFormValid","email","handleSubmit","handleRegister","statusMessage","header","Form","Input","required","label","placeholder","onChange","Checkbox","inline","color","warning","Modal","listenKeyboard","event","keyCode","onClose","closeModal","onDialogClick","stopPropagation","componentDidMount","addEventListener","componentWillUnmount","removeEventListener","overlayStyle","contentStyle","dialogStyle","style","RegisterModal","componentWillMount","handleClose","Login","handleLogin","LoginModal","EditProfile","onImageDrop","files","avatarFile","current_password","currentPassword","new_password","newPassword","bio","status","handleEdit","avatarUploading","secure_url","avatarError","avatarURL","preview","Grid","celled","columns","Column","Field","onDrop","multiple","accept","control","TextArea","EditProfileModal","minWidth","Profile","formatDateTime","datetime","split","dateJoined","UserProfileContainer","match","params","componentWillReceiveProps","newProps","oldUsername","futureUsername","date_joined","UserCard","Card","Meta","fontSize","UserList","length","userCardList","map","user","UsersContainer","RichEditor","convertToEditorState","editorState","EditorState","createEmpty","contentState","convertFromRaw","JSON","parse","createWithContent","ContentState","createFromText","onEditorStateChange","uploadImageCallBack","Promise","reject","newResponse","newEditorState","newContent","readOnly","wrapperClassName","toolbarClassName","editorClassName","handleBeforeInput","handlePastedText","toolbar","options","inDropdown","list","textAlign","image","uploadCallback","present","previewImage","fontFamily","toolbarHidden","Post","onDelete","deleteAction","isThread","authenticatedUsername","authenticatedIsStaff","deleteText","actions","Segment","padded","width","Row","NewPost","onSubmit","stringify","convertToRaw","getCurrentContent","isValidLength","maxLength","getPlainText","input","html","contentBlock","htmlToDraft","entityMap","forEach","mergeEntityData","Modifier","replaceWithFragment","getSelection","List","contentBlocks","selectedBlock","getSelectedBlock","newState","replaceText","getCurrentInlineStyle","Thread","threadPost","postsList","postID","postContent","postCreatedAt","postCreator","Group","ThreadContainer","fetchThread","pdfjs","GlobalWorkerOptions","workerSrc","version","HomeContainer","resume","onLoadSuccess","onDocumentLoadSuccess","pageNumber","height","ThreadList","threadList","naturaltime","replies_count","last_activity","lastActivity","vertical","paddingBottom","NewThread","toggleShowEditor","onSave","updateNewThread","onCancel","onNameChange","newName","showEditor","transparent","iconPosition","Divider","role","floated","ForumContainer","fetchForum","oldForum","futureForum","createThreadSave","createThreadToggle","NotFoundPage","isLocalhost","Boolean","location","hostname","registerValidSW","swUrl","navigator","serviceWorker","registration","onupdatefound","installingWorker","installing","onstatechange","controller","ReactDOM","path","component","exact","document","getElementById","URL","origin","fetch","ready","unregister","reload","checkValidServiceWorker","registerServiceWorker"],"mappings":"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","file":"static/js/main.5dde350f.chunk.js","sourcesContent":["function webpackEmptyContext(req) {\n\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\te.code = 'MODULE_NOT_FOUND';\n\tthrow e;\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = 118;","module.exports = __webpack_public_path__ + \"static/media/logo.5d5d9eef.svg\";","module.exports = __webpack_public_path__ + \"static/media/resume.c8820523.pdf\";","import React from 'react';\r\nimport './styles.css';\r\n\r\nconst Loader = props => {\r\n  return (\r\n    <div className={props.className || 'loader'}>\r\n      <div className=\"loader-spinning-wheel\" />\r\n    </div>\r\n  );\r\n};\r\nexport default Loader;\r\n","export const LOGIN_REQUEST = 'LOGIN_REQUEST';\r\nexport const LOGIN_SUCCESS = 'LOGIN_SUCCESS';\r\nexport const LOGIN_FAILURE = 'LOGIN_FAILURE';\r\nexport const LOGIN_RESET = 'LOGIN_RESET';\r\nexport const LOGOUT = 'LOGOUT';\r\nexport const REGISTER_REQUEST = 'REGISTER_REQUEST';\r\nexport const REGISTER_SUCCESS = 'REGISTER_SUCCESS';\r\nexport const REGISTER_FAILURE = 'REGISTER_FAILURE';\r\nexport const REGISTER_RESET = 'REGISTER_RESET';\r\nexport const SHOW_MODAL = 'SHOW_MODAL';\r\nexport const HIDE_MODAL = 'HIDE_MODAL';\r\nexport const EDIT_PROFILE_REQUEST = 'EDIT_PROFILE_REQUEST';\r\nexport const EDIT_PROFILE_SUCCESS = 'EDIT_PROFILE_SUCCESS';\r\nexport const EDIT_PROFILE_FAILURE = 'EDIT_PROFILE_FAILURE';\r\nexport const EDIT_PROFILE_RESET = 'EDIT_PROFILE_RESET';\r\nexport const FETCH_USER_PROFILE_REQUEST = 'FETCH_USER_PROFILE_REQUEST';\r\nexport const FETCH_USER_PROFILE_SUCCESS = 'FETCH_USER_PROFILE_SUCCESS';\r\nexport const FETCH_USER_PROFILE_FAILURE = 'FETCH_USER_PROFILE_FAILURE';\r\nexport const FETCH_HOME_REQUEST = 'FETCH_HOME_REQUEST';\r\nexport const FETCH_HOME_SUCCESS = 'FETCH_HOME_SUCCESS';\r\nexport const FETCH_HOME_FAILURE = 'FETCH_HOME_FAILURE';\r\nexport const FETCH_FORUM_REQUEST = 'FETCH_FORUM_REQUEST';\r\nexport const FETCH_FORUM_SUCCESS = 'FETCH_FORUM_SUCCESS';\r\nexport const FETCH_FORUM_FAILURE = 'FETCH_FORUM_FAILURE';\r\nexport const FETCH_THREAD_REQUEST = 'FETCH_THREAD_REQUEST';\r\nexport const FETCH_THREAD_SUCCESS = 'FETCH_THREAD_SUCCESS';\r\nexport const FETCH_THREAD_FAILURE = 'FETCH_THREAD_FAILURE';\r\nexport const CREATE_THREAD_REQUEST = 'CREATE_THREAD_REQUEST';\r\nexport const CREATE_THREAD_SUCCESS = 'CREATE_THREAD_SUCCESS';\r\nexport const CREATE_THREAD_FAILURE = 'CREATE_THREAD_FAILURE';\r\nexport const CREATE_THREAD_SAVE = 'CREATE_THREAD_SAVE';\r\nexport const CREATE_THREAD_TOGGLE = 'CREATE_THREAD_TOGGLE';\r\nexport const CREATE_POST_REQUEST = 'CREATE_POST_REQUEST';\r\nexport const CREATE_POST_SUCCESS = 'CREATE_POST_SUCCESS';\r\nexport const CREATE_POST_FAILURE = 'CREATE_POST_FAILURE';\r\nexport const DELETE_POST_REQUEST = 'DELETE_POST_REQUEST';\r\nexport const DELETE_POST_SUCCESS = 'DELETE_POST_SUCCESS';\r\nexport const DELETE_POST_FAILURE = 'DELETE_POST_FAILURE';\r\nexport const DELETE_THREAD_REQUEST = 'DELETE_THREAD_REQUEST';\r\nexport const DELETE_THREAD_SUCCESS = 'DELETE_THREAD_SUCCESS';\r\nexport const DELETE_THREAD_FAILURE = 'DELETE_THREAD_FAILURE';\r\nexport const FETCH_USERS_REQUEST = 'FETCH_USERS_REQUEST';\r\nexport const FETCH_USERS_SUCCESS = 'FETCH_USERS_SUCCESS';\r\nexport const FETCH_USERS_FAILURE = 'FETCH_USERS_FAILURE';\r\n","import {\r\n  LOGIN_REQUEST,\r\n  LOGIN_SUCCESS,\r\n  LOGIN_FAILURE,\r\n  LOGIN_RESET,\r\n  EDIT_PROFILE_REQUEST,\r\n  EDIT_PROFILE_SUCCESS,\r\n  EDIT_PROFILE_FAILURE,\r\n  EDIT_PROFILE_RESET,\r\n  LOGOUT,\r\n} from '../actions/types';\r\n\r\nconst loginInitialState = {\r\n  isLoading: false,\r\n  isAuthenticated: false,\r\n  username: null,\r\n  name: null,\r\n  avatar: null,\r\n  token: null,\r\n  isStaff: false,\r\n  error: null,\r\n};\r\n\r\nconst editInitialState = {\r\n  isEditing: false,\r\n  editError: null,\r\n  editSuccess: false,\r\n};\r\n\r\nconst initialState = {\r\n  ...loginInitialState,\r\n  ...editInitialState,\r\n};\r\n\r\nconst auth = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case LOGIN_REQUEST:\r\n      return {\r\n        ...state,\r\n        isLoading: true,\r\n        isAuthenticated: false,\r\n        error: null,\r\n      };\r\n    case LOGIN_SUCCESS:\r\n      return {\r\n        ...state,\r\n        isLoading: false,\r\n        isAuthenticated: true,\r\n        token: action.token,\r\n        username: action.username,\r\n        avatar: action.avatar,\r\n        name: action.name,\r\n        isStaff: action.isStaff,\r\n        error: null,\r\n      };\r\n    case LOGIN_FAILURE:\r\n      return {\r\n        ...state,\r\n        ...loginInitialState,\r\n        error: action.error,\r\n      };\r\n    case EDIT_PROFILE_REQUEST:\r\n      return {\r\n        ...state,\r\n        isEditing: true,\r\n        editError: null,\r\n        editSuccess: false,\r\n      };\r\n    case EDIT_PROFILE_SUCCESS:\r\n      return {\r\n        ...state,\r\n        isEditing: false,\r\n        editError: null,\r\n        editSuccess: true,\r\n        avatar: action.avatar || state.avatar,\r\n        name: action.name || state.name,\r\n      };\r\n    case EDIT_PROFILE_FAILURE:\r\n      return {\r\n        ...state,\r\n        ...editInitialState,\r\n        editError: action.error,\r\n      };\r\n    case EDIT_PROFILE_RESET:\r\n      return {\r\n        ...state,\r\n        ...editInitialState,\r\n      };\r\n    case LOGIN_RESET:\r\n      return {\r\n        ...state,\r\n        ...loginInitialState,\r\n      };\r\n    case LOGOUT:\r\n      return initialState;\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default auth;\r\n","import {SHOW_MODAL, HIDE_MODAL} from '../actions/types';\r\n\r\nconst initialState = {\r\n  modalType: null,\r\n  modalProps: {},\r\n};\r\n\r\nconst modal = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case SHOW_MODAL:\r\n      return {\r\n        modalType: action.modalType,\r\n        modalProps: action.modalProps,\r\n      };\r\n    case HIDE_MODAL:\r\n      return {\r\n        modalType: null,\r\n        modalProps: {},\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default modal;\r\n","import {\r\n  REGISTER_REQUEST,\r\n  REGISTER_SUCCESS,\r\n  REGISTER_FAILURE,\r\n  REGISTER_RESET,\r\n} from '../actions/types';\r\n\r\nconst initialState = {\r\n  isLoading: false,\r\n  error: null,\r\n};\r\n\r\nconst register = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case REGISTER_REQUEST:\r\n      return {\r\n        ...state,\r\n        isLoading: true,\r\n        error: null,\r\n      };\r\n    case REGISTER_SUCCESS:\r\n      return {\r\n        isLoading: false,\r\n        error: null,\r\n      };\r\n    case REGISTER_FAILURE:\r\n      return {\r\n        isLoading: false,\r\n        error: action.error,\r\n      };\r\n    case REGISTER_RESET:\r\n      return initialState;\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default register;\r\n","import {\r\n  FETCH_USER_PROFILE_REQUEST,\r\n  FETCH_USER_PROFILE_SUCCESS,\r\n  FETCH_USER_PROFILE_FAILURE,\r\n} from '../actions/types';\r\n\r\nconst initialState = {\r\n  isLoading: false,\r\n  profile: null,\r\n  error: null,\r\n};\r\n\r\nconst userProfile = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case FETCH_USER_PROFILE_REQUEST:\r\n      return {\r\n        ...state,\r\n        isLoading: true,\r\n        error: null,\r\n      };\r\n    case FETCH_USER_PROFILE_SUCCESS:\r\n      return {\r\n        isLoading: false,\r\n        profile: action.profile,\r\n        error: null,\r\n      };\r\n    case FETCH_USER_PROFILE_FAILURE:\r\n      return {\r\n        ...initialState,\r\n        error: action.error,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default userProfile;\r\n","import {\r\n  FETCH_HOME_REQUEST,\r\n  FETCH_HOME_SUCCESS,\r\n  FETCH_HOME_FAILURE,\r\n} from '../actions/types';\r\n\r\nconst initialState = {\r\n  isLoading: false,\r\n  forums: null,\r\n  error: null,\r\n};\r\n\r\nconst home = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case FETCH_HOME_REQUEST:\r\n      return {\r\n        ...state,\r\n        isLoading: true,\r\n        error: null,\r\n      };\r\n    case FETCH_HOME_SUCCESS:\r\n      return {\r\n        isLoading: false,\r\n        forums: action.forums,\r\n        error: null,\r\n      };\r\n    case FETCH_HOME_FAILURE:\r\n      return {\r\n        ...initialState,\r\n        error: action.error,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default home;\r\n","import {\r\n  FETCH_USERS_REQUEST,\r\n  FETCH_USERS_SUCCESS,\r\n  FETCH_USERS_FAILURE,\r\n} from '../actions/types';\r\n\r\nconst initialState = {\r\n  isLoading: false,\r\n  users: null,\r\n  error: null,\r\n};\r\n\r\nconst users = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case FETCH_USERS_REQUEST:\r\n      return {\r\n        ...state,\r\n        isLoading: true,\r\n        error: null,\r\n      };\r\n    case FETCH_USERS_SUCCESS:\r\n      return {\r\n        isLoading: false,\r\n        users: action.users,\r\n        error: null,\r\n      };\r\n    case FETCH_USERS_FAILURE:\r\n      return {\r\n        ...initialState,\r\n        error: action.error,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default users;\r\n","import {\r\n  FETCH_FORUM_REQUEST,\r\n  FETCH_FORUM_SUCCESS,\r\n  FETCH_FORUM_FAILURE,\r\n  CREATE_THREAD_REQUEST,\r\n  CREATE_THREAD_SUCCESS,\r\n  CREATE_THREAD_FAILURE,\r\n  CREATE_THREAD_SAVE,\r\n  CREATE_THREAD_TOGGLE,\r\n  LOGOUT,\r\n} from '../actions/types';\r\n\r\nconst forumInitialState = {\r\n  isLoading: false,\r\n  name: null,\r\n  slug: null,\r\n  description: null,\r\n  threads: null,\r\n  error: null,\r\n};\r\n\r\nconst newThreadInitialState = {\r\n  newThreadLoading: false,\r\n  newThreadSuccess: false,\r\n  newThreadName: '',\r\n  newThreadContent: '',\r\n  newThreadId: null,\r\n  newThreadError: null,\r\n  newThreadShow: false,\r\n};\r\n\r\nconst initialState = {\r\n  ...forumInitialState,\r\n  ...newThreadInitialState,\r\n};\r\n\r\nconst forum = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case FETCH_FORUM_REQUEST:\r\n      return {\r\n        ...forumInitialState,\r\n        ...state,\r\n        newThreadLoading: false,\r\n        newThreadSuccess: false,\r\n        newThreadId: null,\r\n        newThreadError: null,\r\n        newThreadShow: false,\r\n        isLoading: true,\r\n        error: null,\r\n      };\r\n    case FETCH_FORUM_SUCCESS:\r\n      return {\r\n        ...state,\r\n        isLoading: false,\r\n        name: action.name,\r\n        slug: action.slug,\r\n        description: action.description,\r\n        threads: action.threads,\r\n        error: null,\r\n      };\r\n    case FETCH_FORUM_FAILURE:\r\n      return {\r\n        ...state,\r\n        error: action.error,\r\n      };\r\n    case CREATE_THREAD_REQUEST:\r\n      return {\r\n        ...state,\r\n        newThreadLoading: true,\r\n        newThreadSuccess: false,\r\n        newThreadError: null,\r\n        newThreadName: action.newThread.name,\r\n        newThreadContent: action.newThread.content,\r\n      };\r\n    case CREATE_THREAD_SUCCESS:\r\n      return {\r\n        ...state,\r\n        newThreadLoading: false,\r\n        newThreadSuccess: true,\r\n        newThreadName: '',\r\n        newThreadContent: '',\r\n        newThreadId: action.newThread.id,\r\n        newThreadShow: false,\r\n        newThreadError: null,\r\n      };\r\n    case CREATE_THREAD_FAILURE:\r\n      return {\r\n        ...state,\r\n        newThreadLoading: false,\r\n        newThreadSuccess: false,\r\n        newThreadId: null,\r\n        newThreadShow: true,\r\n        newThreadError: action.error,\r\n      };\r\n    case CREATE_THREAD_SAVE:\r\n      return {\r\n        ...state,\r\n        newThreadName: action.name,\r\n        newThreadContent: action.content,\r\n      };\r\n    case CREATE_THREAD_TOGGLE:\r\n      return {\r\n        ...state,\r\n        newThreadShow: !state.newThreadShow,\r\n        newThreadSuccess: false,\r\n        newThreadError: null,\r\n      };\r\n    case LOGOUT:\r\n      return {\r\n        ...state,\r\n        ...newThreadInitialState,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default forum;\r\n","import {\r\n  FETCH_THREAD_REQUEST,\r\n  FETCH_THREAD_SUCCESS,\r\n  FETCH_THREAD_FAILURE,\r\n  CREATE_POST_REQUEST,\r\n  CREATE_POST_SUCCESS,\r\n  CREATE_POST_FAILURE,\r\n  DELETE_POST_REQUEST,\r\n  DELETE_POST_SUCCESS,\r\n  DELETE_POST_FAILURE,\r\n  DELETE_THREAD_REQUEST,\r\n  DELETE_THREAD_SUCCESS,\r\n  DELETE_THREAD_FAILURE,\r\n} from '../actions/types';\r\n\r\nconst threadInitialState = {\r\n  isLoading: false,\r\n  name: null,\r\n  content: null,\r\n  pinned: false,\r\n  creator: null,\r\n  createdt: null,\r\n  posts: [],\r\n  error: null,\r\n};\r\n\r\nconst newPostInitialState = {\r\n  newPostSuccess: false,\r\n  newPostLoading: false,\r\n  newPostError: null,\r\n};\r\n\r\nconst deletePostInitialState = {\r\n  deletePostList: [],\r\n};\r\n\r\nconst deleteThreadInitialState = {\r\n  isDeleting: false,\r\n  deleteError: null,\r\n};\r\n\r\nconst initialState = {\r\n  ...threadInitialState,\r\n  ...newPostInitialState,\r\n  ...deletePostInitialState,\r\n  ...deleteThreadInitialState,\r\n};\r\n\r\nconst thread = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case FETCH_THREAD_REQUEST:\r\n      return {\r\n        ...initialState,\r\n        isLoading: true,\r\n        error: null,\r\n      };\r\n    case FETCH_THREAD_SUCCESS:\r\n      return {\r\n        ...state,\r\n        isLoading: false,\r\n        name: action.thread.name,\r\n        content: action.thread.content,\r\n        pinned: action.thread.pinned,\r\n        creator: action.thread.creator,\r\n        createdAt: action.thread.created_at,\r\n        posts: action.thread.posts,\r\n        error: null,\r\n      };\r\n    case FETCH_THREAD_FAILURE:\r\n      return {\r\n        ...state,\r\n        isLoading: false,\r\n        error: action.error,\r\n      };\r\n    case DELETE_THREAD_REQUEST:\r\n      return {\r\n        ...state,\r\n        isDeleting: true,\r\n        deleteError: null,\r\n      };\r\n    case DELETE_THREAD_SUCCESS:\r\n      return {\r\n        ...state,\r\n        isDeleting: false,\r\n        deleteError: null,\r\n      };\r\n    case DELETE_THREAD_FAILURE:\r\n      return {\r\n        ...state,\r\n        isDeleting: false,\r\n        deleteError: action.error,\r\n      };\r\n    case CREATE_POST_REQUEST:\r\n      return {\r\n        ...state,\r\n        newPostLoading: true,\r\n        newPostError: null,\r\n        newPostSuccess: false,\r\n      };\r\n    case CREATE_POST_SUCCESS:\r\n      return {\r\n        ...state,\r\n        newPostLoading: false,\r\n        newPostError: null,\r\n        newPostSuccess: true,\r\n      };\r\n    case CREATE_POST_FAILURE:\r\n      return {\r\n        ...state,\r\n        newPostLoading: false,\r\n        newPostError: action.error,\r\n        newPostSuccess: false,\r\n      };\r\n    case DELETE_POST_REQUEST:\r\n      return {\r\n        ...state,\r\n        deletePostList: [...state.deletePostList, action.id],\r\n      };\r\n    case DELETE_POST_SUCCESS:\r\n    case DELETE_POST_FAILURE:\r\n      return {\r\n        ...state,\r\n        deletePostList: state.deletePostList.filter(id => id !== action.id),\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default thread;\r\n","import {combineReducers} from 'redux';\r\nimport auth from './auth';\r\nimport modal from './modal';\r\nimport register from './register';\r\nimport userProfile from './userprofile';\r\nimport home from './home';\r\nimport users from './users';\r\nimport forum from './forum';\r\nimport thread from './thread';\r\n\r\nconst rootReducer = combineReducers({\r\n  auth,\r\n  modal,\r\n  register,\r\n  userProfile,\r\n  home,\r\n  users,\r\n  forum,\r\n  thread,\r\n});\r\n\r\nexport default rootReducer;\r\n","import {compose, createStore, applyMiddleware} from 'redux';\r\nimport rootReducer from './reducers';\r\nimport thunkMiddleware from 'redux-thunk';\r\nimport {persistStore, persistReducer} from 'redux-persist';\r\nimport autoMergeLevel2 from 'redux-persist/lib/stateReconciler/autoMergeLevel2';\r\nimport storage from 'redux-persist/lib/storage'; // defaults to localStorage for web and AsyncStorage for react-native\r\n\r\n// Redux dev tool extension\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\n\r\nconst persistConfig = {\r\n  key: 'root',\r\n  storage,\r\n  stateReconciler: autoMergeLevel2,\r\n};\r\nconst persistedReducer = persistReducer(persistConfig, rootReducer);\r\n\r\nconst store = createStore(\r\n  persistedReducer,\r\n  composeEnhancers(applyMiddleware(thunkMiddleware)),\r\n);\r\nexport const persistor = persistStore(store);\r\nexport default store;\r\n","import React from 'react';\r\nimport logo from './logo.svg';\r\nimport './styles.css';\r\n\r\nconst Logo = () => {\r\n  return (\r\n    <div className=\"logoContainer\">\r\n      <img src={logo} className=\"logo\" alt=\"logo\" />\r\n      <div className=\"logoTitle\">Yi Shen</div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Logo;\r\n","import React from 'react';\r\nimport Logo from '../logo';\r\nimport {Link} from 'react-router-dom';\r\nimport {Icon} from 'semantic-ui-react';\r\nimport './styles.css';\r\n\r\nconst Navlink = () => {\r\n  return (\r\n    <div className=\"navlinkContainer\">\r\n      <Logo />\r\n      <div className=\"link\">\r\n        <Icon name=\"home\" className=\"navlinkIcon\" />\r\n        <Link to=\"/\">Home</Link>\r\n      </div>\r\n      <div className=\"link\">\r\n        <Icon name=\"github\" className=\"navlinkIcon\" />\r\n        <a href=\"https://github.com/wornbb/resume\">GitHub</a>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Navlink;\r\n","import React, {Component} from 'react';\r\nimport Loader from '../loader';\r\nimport './styles.css';\r\n\r\nexport default class Button extends Component {\r\n  render() {\r\n    let className = this.props.className || 'btn';\r\n    let disabled = this.props.disabled;\r\n\r\n    if (this.props.loading) {\r\n      disabled = true;\r\n    }\r\n\r\n    return (\r\n      <button\r\n        className={className}\r\n        disabled={disabled}\r\n        onClick={this.props.onClick}\r\n        type={\r\n          this.props.type\r\n            ? this.props.type\r\n            : this.props.onClick\r\n              ? 'button'\r\n              : 'submit'\r\n        }>\r\n        {this.props.loading ? <Loader /> : this.props.children}\r\n      </button>\r\n    );\r\n  }\r\n}\r\n\r\nButton.defaultProps = {\r\n  className: 'btn',\r\n  type: 'submit',\r\n  loading: false,\r\n  disabled: false,\r\n  onClick: null,\r\n};\r\n","import React, {Component} from 'react';\r\nimport Button from '../button';\r\nimport './styles.css';\r\n\r\nclass GuestNav extends Component {\r\n  render() {\r\n    const {showLogin, showRegister} = this.props;\r\n    return (\r\n      <div className=\"guestMenu\">\r\n        <Button className=\"btn-sign-in\" type=\"button\" onClick={showLogin}>\r\n          Login\r\n        </Button>\r\n        <br />\r\n        <Button className=\"btn-register\" type=\"button\" onClick={showRegister}>\r\n          Register\r\n        </Button>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default GuestNav;\r\n","import React from 'react';\r\nimport {Image} from 'semantic-ui-react';\r\nimport {Link} from 'react-router-dom';\r\nimport './styles.css';\r\n\r\nconst Avatar = props => {\r\n  let {className, avatar, centered, link} = props;\r\n\r\n  avatar = avatar || 'https://i.imgur.com/7o5cwt8.png';\r\n  // Convert http to https\r\n  if (/^http/.test(avatar) && !/^https/.test(avatar)) {\r\n    avatar = avatar.replace(/^http/, 'https');\r\n  }\r\n  centered = centered !== null ? centered : true;\r\n  className = className || 'avatar';\r\n  const avatarComponent = (\r\n    <Image className={className} src={avatar} centered={centered} />\r\n  );\r\n  if (link) {\r\n    return <Link to={link}>{avatarComponent}</Link>;\r\n  }\r\n  return avatarComponent;\r\n};\r\n\r\nexport default Avatar;\r\n","import React, {Component} from 'react';\r\nimport {withRouter} from 'react-router';\r\nimport Avatar from '../avatar';\r\nimport {Menu, Dropdown} from 'semantic-ui-react';\r\nimport './styles.css';\r\n\r\nclass UserNav extends Component {\r\n  render() {\r\n    const {\r\n      username,\r\n      avatar,\r\n      logout,\r\n      showEditProfile,\r\n      history,\r\n      name,\r\n    } = this.props;\r\n\r\n    const myProfile = () => {\r\n      history.push(`/user/${username}`);\r\n    };\r\n\r\n    return (\r\n      <div className=\"userMenu\">\r\n        <Menu fluid inverted borderless size=\"large\" className=\"userMenu-menu\">\r\n          <Menu.Item disabled className=\"userMenu-avatar\">\r\n            <Avatar avatar={avatar} />\r\n          </Menu.Item>\r\n          <Dropdown item simple text={name || username} direction=\"left\">\r\n            <Dropdown.Menu>\r\n              <Dropdown.Item\r\n                onClick={myProfile}\r\n                icon=\"user\"\r\n                text=\"My profile\"\r\n              />\r\n              <Dropdown.Item\r\n                onClick={showEditProfile}\r\n                icon=\"setting\"\r\n                text=\"Edit profile\"\r\n              />\r\n              <Dropdown.Item onClick={logout} icon=\"sign out\" text=\"Logout\" />\r\n            </Dropdown.Menu>\r\n          </Dropdown>\r\n        </Menu>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withRouter(UserNav);\r\n","import React, {Component} from 'react';\r\nimport GuestNav from './guestnav';\r\nimport UserNav from './usernav';\r\n\r\nclass UserMenu extends Component {\r\n  render() {\r\n    const {\r\n      isAuthenticated,\r\n      username,\r\n      name,\r\n      avatar,\r\n      logout,\r\n      isLoading,\r\n      showRegister,\r\n      showLogin,\r\n      showEditProfile,\r\n    } = this.props;\r\n\r\n    if (isAuthenticated) {\r\n      return (\r\n        <UserNav\r\n          username={username}\r\n          name={name}\r\n          avatar={avatar}\r\n          logout={logout}\r\n          showEditProfile={showEditProfile}\r\n          isLoading={isLoading}\r\n        />\r\n      );\r\n    } else {\r\n      return <GuestNav showRegister={showRegister} showLogin={showLogin} />;\r\n    }\r\n  }\r\n}\r\n\r\nexport default UserMenu;\r\n","export const API_URL =\r\n  process.env.NODE_ENV === 'production'\r\n    ? process.env.REACT_APP_PROD_API_URL\r\n    : process.env.REACT_APP_DEV_API_URL;\r\nexport const USER_URL = API_URL + 'user/';\r\nexport const USER_REGISTER_URL = USER_URL + 'register/';\r\nexport const USER_LOGIN_URL = USER_URL + 'login/';\r\nexport const USER_LOGOUT_URL = USER_URL + 'logout/';\r\nexport const USER_EDIT_URL = '/edit/';\r\nexport const USER_DELETE_URL = '/delete/';\r\nexport const FORUM_URL = API_URL + 'forum/';\r\nexport const FORUM_CREATE_URL = FORUM_URL + 'create/';\r\nexport const FORUM_EDIT_URL = '/edit/';\r\nexport const FORUM_DELETE_URL = '/delete/';\r\nexport const THREAD_URL = API_URL + 'thread/';\r\nexport const THREAD_CREATE_URL = THREAD_URL + 'create/';\r\nexport const THREAD_EDIT_URL = '/edit/';\r\nexport const THREAD_DELETE_URL = '/delete/';\r\nexport const POST_URL = API_URL + 'post/';\r\nexport const POST_CREATE_URL = POST_URL + 'create/';\r\nexport const POST_EDIT_URL = '/edit/';\r\nexport const POST_DELETE_URL = '/delete/';\r\n","import store from '../store';\r\n\r\nexport const getConfig = () => {\r\n  const isAuthenticated = store.getState().auth.isAuthenticated;\r\n  if (isAuthenticated) {\r\n    const token = store.getState().auth.token;\r\n    const config = {\r\n      headers: {Authorization: 'Token ' + token},\r\n    };\r\n    return config;\r\n  }\r\n  return null;\r\n};\r\n","import axios from 'axios';\r\nimport {FORUM_URL} from './constants';\r\nimport {getConfig} from '../utils/config';\r\n\r\nexport const fetchForumsApi = () => {\r\n  return axios.get(FORUM_URL, getConfig());\r\n};\r\n\r\nexport const fetchForumApi = forum => {\r\n  return axios.get(FORUM_URL + forum, getConfig());\r\n};\r\n","import axios from 'axios';\r\nimport {\r\n  THREAD_URL,\r\n  THREAD_CREATE_URL,\r\n  THREAD_EDIT_URL,\r\n  THREAD_DELETE_URL,\r\n} from './constants';\r\nimport {getConfig} from '../utils/config';\r\n\r\nexport const fetchThreadApi = thread => {\r\n  return axios.get(THREAD_URL + thread, getConfig());\r\n};\r\n\r\nexport const createThreadApi = newThread => {\r\n  return axios.post(THREAD_CREATE_URL, newThread, getConfig());\r\n};\r\n\r\nexport const deleteThreadApi = id => {\r\n  return axios.delete(THREAD_URL + id + THREAD_DELETE_URL, getConfig());\r\n};\r\n\r\nexport const editThreadApi = (id, data) => {\r\n  return axios.put(THREAD_URL + id + THREAD_EDIT_URL, data, getConfig());\r\n};\r\n","import axios from 'axios';\r\nconst CLOUDINARY_UPLOAD_TRANSFORM_PRESET = 'dfnrvqvx'; // img transformed to 200x200\r\nconst CLOUDINARY_UPLOAD_PRESET = 'nlczu2np';\r\nconst CLOUDINARY_UPLOAD_URL = 'https://api.cloudinary.com/v1_1/rengorum/upload';\r\n\r\nexport const imageUploadApi = (file, transform = true) => {\r\n  const formData = new FormData();\r\n  formData.append('file', file);\r\n  const upload_preset = transform\r\n    ? CLOUDINARY_UPLOAD_TRANSFORM_PRESET\r\n    : CLOUDINARY_UPLOAD_PRESET;\r\n  formData.append('upload_preset', upload_preset);\r\n  return axios.post(CLOUDINARY_UPLOAD_URL, formData, null);\r\n};\r\n","import {SHOW_MODAL, HIDE_MODAL} from './types';\r\n\r\nexport const showModal = (modalType, modalProps) => ({\r\n  type: SHOW_MODAL,\r\n  modalType,\r\n  modalProps,\r\n});\r\n\r\nexport const hideModal = () => ({\r\n  type: HIDE_MODAL,\r\n});\r\n","export const apiErrorHandler = error => {\r\n  try {\r\n    if (!error.response) {\r\n      return 'Error: Network Error';\r\n    } else if (error.response.data) {\r\n      const erd = error.response.data;\r\n      if (erd.detail) {\r\n        if (erd.detail === 'Invalid token.') {\r\n          return 'Invalid Token. Please re-login.';\r\n        }\r\n        return erd.detail;\r\n      }\r\n      if (erd[0]) return erd[0];\r\n      const key = Object.keys(erd)[0];\r\n      const errorString = erd[key][0];\r\n      if (['non_field_errors', 'detail'].indexOf(key) >= 0) {\r\n        return errorString;\r\n      }\r\n      const errorField = String(key).replace('_', ' ');\r\n      return (\r\n        errorField.charAt(0).toUpperCase() +\r\n        errorField.substring(1) +\r\n        ': ' +\r\n        errorString\r\n      );\r\n    }\r\n  } catch (error) {\r\n    console.log(error);\r\n    return 'Something wrong happened. Please report this.';\r\n  }\r\n};\r\n","import {\r\n  LOGIN_REQUEST,\r\n  LOGIN_SUCCESS,\r\n  LOGIN_FAILURE,\r\n  LOGIN_RESET,\r\n  EDIT_PROFILE_REQUEST,\r\n  EDIT_PROFILE_SUCCESS,\r\n  EDIT_PROFILE_FAILURE,\r\n  EDIT_PROFILE_RESET,\r\n  LOGOUT,\r\n} from './types';\r\nimport {loginApi, logoutApi, editProfileApi} from '../api';\r\nimport store from '../store';\r\nimport {hideModal} from './modal';\r\nimport {apiErrorHandler} from '../utils/errorhandler';\r\n\r\nexport const login = (username, password) => dispatch => {\r\n  dispatch(loginRequest());\r\n\r\n  loginApi(username, password)\r\n    .then(response => {\r\n      dispatch(loginSuccess(response.data));\r\n      dispatch(hideModal());\r\n    })\r\n    .catch(error => {\r\n      const errorMessage = apiErrorHandler(error);\r\n      dispatch(loginFailure(errorMessage));\r\n    });\r\n};\r\n\r\nexport const loginRequest = () => {\r\n  return {\r\n    type: LOGIN_REQUEST,\r\n  };\r\n};\r\n\r\nexport const loginSuccess = data => {\r\n  return {\r\n    type: LOGIN_SUCCESS,\r\n    token: data.token,\r\n    username: data.username,\r\n    name: data.name,\r\n    avatar: data.avatar,\r\n    isStaff: data.is_staff,\r\n  };\r\n};\r\n\r\nexport const loginFailure = error => {\r\n  return {\r\n    type: LOGIN_FAILURE,\r\n    error,\r\n  };\r\n};\r\n\r\nexport const logout = () => dispatch => {\r\n  logoutApi();\r\n  dispatch({\r\n    type: LOGOUT,\r\n  });\r\n};\r\n\r\nexport const loginReset = () => {\r\n  return {\r\n    type: LOGIN_RESET,\r\n  };\r\n};\r\n\r\nexport const editProfile = newProfile => dispatch => {\r\n  dispatch(editProfileRequest());\r\n\r\n  const username = store.getState().auth.username;\r\n  if (!username) {\r\n    dispatch(editProfileFailure('Not authenticated'));\r\n  } else {\r\n    editProfileApi(username, newProfile)\r\n      .then(response => {\r\n        dispatch(editProfileSuccess(newProfile));\r\n      })\r\n      .catch(error => {\r\n        const errorMessage = apiErrorHandler(error);\r\n        dispatch(editProfileFailure(errorMessage));\r\n      });\r\n  }\r\n};\r\n\r\nexport const editProfileRequest = () => {\r\n  return {\r\n    type: EDIT_PROFILE_REQUEST,\r\n  };\r\n};\r\n\r\nexport const editProfileSuccess = newProfile => {\r\n  return {\r\n    type: EDIT_PROFILE_SUCCESS,\r\n    avatar: newProfile.avatar,\r\n    name: newProfile.name,\r\n  };\r\n};\r\n\r\nexport const editProfileFailure = error => {\r\n  return {\r\n    type: EDIT_PROFILE_FAILURE,\r\n    error,\r\n  };\r\n};\r\n\r\nexport const editProfileReset = () => {\r\n  return {\r\n    type: EDIT_PROFILE_RESET,\r\n  };\r\n};\r\n","import axios from 'axios';\r\nimport {\r\n  USER_LOGIN_URL,\r\n  USER_LOGOUT_URL,\r\n  USER_REGISTER_URL,\r\n  USER_EDIT_URL,\r\n  USER_URL,\r\n} from './constants';\r\nimport {getConfig} from '../utils/config';\r\n\r\nexport const loginApi = (username, password) => {\r\n  return axios.post(USER_LOGIN_URL, {username, password}, getConfig());\r\n};\r\n\r\nexport const logoutApi = () => {\r\n  return axios.post(USER_LOGOUT_URL, null, getConfig());\r\n};\r\n\r\nexport const registerApi = data => {\r\n  return axios.post(USER_REGISTER_URL, data, getConfig());\r\n};\r\n\r\nexport const fetchUserProfileApi = username => {\r\n  return axios.get(USER_URL + username, getConfig());\r\n};\r\n\r\nexport const editProfileApi = (username, newProfile) => {\r\n  return axios.put(\r\n    USER_URL + username + USER_EDIT_URL,\r\n    newProfile,\r\n    getConfig(),\r\n  );\r\n};\r\n\r\nexport const fetchUsersApi = () => {\r\n  return axios.get(USER_URL, getConfig());\r\n};\r\n","import {\r\n  REGISTER_REQUEST,\r\n  REGISTER_SUCCESS,\r\n  REGISTER_FAILURE,\r\n  REGISTER_RESET,\r\n} from './types';\r\nimport {registerApi} from '../api';\r\nimport {apiErrorHandler} from '../utils/errorhandler';\r\nimport {login} from './auth';\r\n\r\nexport const register = data => dispatch => {\r\n  dispatch(registerRequest());\r\n\r\n  registerApi(data)\r\n    .then(response => {\r\n      dispatch(registerSuccess());\r\n      dispatch(login(data.username, data.password));\r\n    })\r\n    .catch(error => {\r\n      const errorMessage = apiErrorHandler(error);\r\n      dispatch(registerFailure(errorMessage));\r\n    });\r\n};\r\n\r\nexport const registerRequest = () => {\r\n  return {\r\n    type: REGISTER_REQUEST,\r\n  };\r\n};\r\n\r\nexport const registerSuccess = () => {\r\n  return {\r\n    type: REGISTER_SUCCESS,\r\n  };\r\n};\r\n\r\nexport const registerFailure = error => {\r\n  return {\r\n    type: REGISTER_FAILURE,\r\n    error,\r\n  };\r\n};\r\n\r\nexport const registerReset = () => {\r\n  return {\r\n    type: REGISTER_RESET,\r\n  };\r\n};\r\n","import {\r\n  FETCH_USER_PROFILE_REQUEST,\r\n  FETCH_USER_PROFILE_SUCCESS,\r\n  FETCH_USER_PROFILE_FAILURE,\r\n} from './types';\r\nimport {fetchUserProfileApi} from '../api';\r\nimport {apiErrorHandler} from '../utils/errorhandler';\r\n\r\nexport const fetchUserProfile = username => dispatch => {\r\n  dispatch(fetchUserProfileRequest());\r\n\r\n  fetchUserProfileApi(username)\r\n    .then(response => {\r\n      dispatch(fetchUserProfileSuccess(response.data));\r\n    })\r\n    .catch(error => {\r\n      const errorMessage = apiErrorHandler(error);\r\n      dispatch(fetchUserProfileFailure(errorMessage));\r\n    });\r\n};\r\n\r\nexport const fetchUserProfileRequest = () => {\r\n  return {\r\n    type: FETCH_USER_PROFILE_REQUEST,\r\n  };\r\n};\r\n\r\nexport const fetchUserProfileSuccess = data => {\r\n  return {\r\n    type: FETCH_USER_PROFILE_SUCCESS,\r\n    profile: data,\r\n  };\r\n};\r\n\r\nexport const fetchUserProfileFailure = error => {\r\n  return {\r\n    type: FETCH_USER_PROFILE_FAILURE,\r\n    error,\r\n  };\r\n};\r\n","import {\r\n  FETCH_USERS_REQUEST,\r\n  FETCH_USERS_SUCCESS,\r\n  FETCH_USERS_FAILURE,\r\n} from './types';\r\nimport {fetchUsersApi} from '../api';\r\nimport {apiErrorHandler} from '../utils/errorhandler';\r\n\r\nexport const fetchUsers = () => dispatch => {\r\n  dispatch(fetchUsersRequest());\r\n\r\n  fetchUsersApi()\r\n    .then(response => {\r\n      dispatch(fetchUsersSuccess(response.data));\r\n    })\r\n    .catch(error => {\r\n      const errorMessage = apiErrorHandler(error);\r\n      dispatch(fetchUsersFailure(errorMessage));\r\n    });\r\n};\r\n\r\nexport const fetchUsersRequest = () => {\r\n  return {\r\n    type: FETCH_USERS_REQUEST,\r\n  };\r\n};\r\n\r\nexport const fetchUsersSuccess = data => {\r\n  return {\r\n    type: FETCH_USERS_SUCCESS,\r\n    users: data,\r\n  };\r\n};\r\n\r\nexport const fetchUsersFailure = error => {\r\n  return {\r\n    type: FETCH_USERS_FAILURE,\r\n    error,\r\n  };\r\n};\r\n","import {\r\n  FETCH_FORUM_REQUEST,\r\n  FETCH_FORUM_SUCCESS,\r\n  FETCH_FORUM_FAILURE,\r\n} from './types';\r\nimport {fetchForumApi} from '../api';\r\nimport {apiErrorHandler} from '../utils/errorhandler';\r\n\r\nexport const fetchForum = forum => dispatch => {\r\n  dispatch(fetchForumRequest());\r\n\r\n  fetchForumApi(forum)\r\n    .then(response => {\r\n      dispatch(fetchForumSuccess(response.data));\r\n    })\r\n    .catch(error => {\r\n      const errorMessage = apiErrorHandler(error);\r\n      dispatch(fetchForumFailure(errorMessage));\r\n    });\r\n};\r\n\r\nexport const fetchForumRequest = () => {\r\n  return {\r\n    type: FETCH_FORUM_REQUEST,\r\n  };\r\n};\r\n\r\nexport const fetchForumSuccess = forum => {\r\n  return {\r\n    type: FETCH_FORUM_SUCCESS,\r\n    name: forum.name,\r\n    slug: forum.slug,\r\n    description: forum.description,\r\n    threads: forum.threads,\r\n  };\r\n};\r\n\r\nexport const fetchForumFailure = error => {\r\n  return {\r\n    type: FETCH_FORUM_FAILURE,\r\n    error,\r\n  };\r\n};\r\n","import {\r\n  FETCH_THREAD_REQUEST,\r\n  FETCH_THREAD_SUCCESS,\r\n  FETCH_THREAD_FAILURE,\r\n  CREATE_THREAD_REQUEST,\r\n  CREATE_THREAD_SUCCESS,\r\n  CREATE_THREAD_FAILURE,\r\n  CREATE_THREAD_SAVE,\r\n  CREATE_THREAD_TOGGLE,\r\n  DELETE_THREAD_REQUEST,\r\n  DELETE_THREAD_SUCCESS,\r\n  DELETE_THREAD_FAILURE,\r\n} from './types';\r\nimport {\r\n  fetchThreadApi,\r\n  createThreadApi,\r\n  fetchForumApi,\r\n  deleteThreadApi,\r\n} from '../api';\r\nimport {fetchForumSuccess, fetchForumFailure} from './forum';\r\nimport {apiErrorHandler} from '../utils/errorhandler';\r\n\r\nexport const fetchThread = thread => dispatch => {\r\n  dispatch(fetchThreadRequest());\r\n\r\n  fetchThreadApi(thread)\r\n    .then(response => {\r\n      dispatch(fetchThreadSuccess(response.data));\r\n    })\r\n    .catch(error => {\r\n      const errorMessage = apiErrorHandler(error);\r\n      dispatch(fetchThreadFailure(errorMessage));\r\n    });\r\n};\r\n\r\nexport const fetchThreadRequest = () => {\r\n  return {\r\n    type: FETCH_THREAD_REQUEST,\r\n  };\r\n};\r\n\r\nexport const fetchThreadSuccess = thread => {\r\n  return {\r\n    type: FETCH_THREAD_SUCCESS,\r\n    thread,\r\n  };\r\n};\r\n\r\nexport const fetchThreadFailure = error => {\r\n  return {\r\n    type: FETCH_THREAD_FAILURE,\r\n    error,\r\n  };\r\n};\r\n\r\nexport const createThread = newThread => dispatch => {\r\n  dispatch(createThreadRequest(newThread));\r\n\r\n  createThreadApi(newThread)\r\n    .then(response => {\r\n      dispatch(createThreadSuccess(response.data));\r\n\r\n      // re-load forum page\r\n      fetchForumApi(newThread.forum)\r\n        .then(response => {\r\n          dispatch(fetchForumSuccess(response.data));\r\n        })\r\n        .catch(error => {\r\n          const errorMessage = apiErrorHandler(error);\r\n          dispatch(fetchForumFailure(errorMessage));\r\n        });\r\n    })\r\n    .catch(error => {\r\n      const errorMessage = apiErrorHandler(error);\r\n      dispatch(createThreadFailure(errorMessage));\r\n    });\r\n};\r\n\r\nexport const createThreadRequest = newThread => {\r\n  return {\r\n    type: CREATE_THREAD_REQUEST,\r\n    newThread,\r\n  };\r\n};\r\n\r\nexport const createThreadSuccess = newThread => {\r\n  return {\r\n    type: CREATE_THREAD_SUCCESS,\r\n    newThread,\r\n  };\r\n};\r\n\r\nexport const createThreadFailure = error => {\r\n  return {\r\n    type: CREATE_THREAD_FAILURE,\r\n    error,\r\n  };\r\n};\r\n\r\nexport const createThreadSave = newThread => {\r\n  return {\r\n    type: CREATE_THREAD_SAVE,\r\n    name: newThread.name,\r\n    content: newThread.content,\r\n  };\r\n};\r\n\r\nexport const createThreadToggle = () => {\r\n  return {\r\n    type: CREATE_THREAD_TOGGLE,\r\n  };\r\n};\r\n\r\nexport const deleteThread = id => dispatch => {\r\n  dispatch(deleteThreadRequest());\r\n\r\n  deleteThreadApi(id)\r\n    .then(response => {\r\n      dispatch(deleteThreadSuccess());\r\n\r\n      // re-load thread page\r\n      fetchThreadApi(id)\r\n        .then(response => {\r\n          dispatch(fetchThreadSuccess(response.data));\r\n        })\r\n        .catch(error => {\r\n          const errorMessage = apiErrorHandler(error);\r\n          dispatch(fetchThreadFailure(errorMessage));\r\n        });\r\n    })\r\n    .catch(error => {\r\n      const errorMessage = apiErrorHandler(error);\r\n      dispatch(deleteThreadFailure(errorMessage));\r\n    });\r\n};\r\n\r\nexport const deleteThreadRequest = () => {\r\n  return {\r\n    type: DELETE_THREAD_REQUEST,\r\n  };\r\n};\r\n\r\nexport const deleteThreadSuccess = () => {\r\n  return {\r\n    type: DELETE_THREAD_SUCCESS,\r\n  };\r\n};\r\n\r\nexport const deleteThreadFailure = error => {\r\n  return {\r\n    type: DELETE_THREAD_FAILURE,\r\n    error,\r\n  };\r\n};\r\n","import {\r\n  CREATE_POST_REQUEST,\r\n  CREATE_POST_SUCCESS,\r\n  CREATE_POST_FAILURE,\r\n  DELETE_POST_REQUEST,\r\n  DELETE_POST_SUCCESS,\r\n  DELETE_POST_FAILURE,\r\n} from './types';\r\nimport {createPostApi, fetchThreadApi, deletePostApi} from '../api';\r\nimport {fetchThreadSuccess, fetchThreadFailure} from './thread';\r\nimport {apiErrorHandler} from '../utils/errorhandler';\r\n\r\nexport const createPost = newPost => dispatch => {\r\n  dispatch(createPostRequest());\r\n\r\n  createPostApi(newPost)\r\n    .then(response => {\r\n      dispatch(createPostSuccess());\r\n\r\n      // re-load thread page\r\n      fetchThreadApi(newPost.thread_id)\r\n        .then(response => {\r\n          dispatch(fetchThreadSuccess(response.data));\r\n        })\r\n        .catch(error => {\r\n          const errorMessage = apiErrorHandler(error);\r\n          dispatch(fetchThreadFailure(errorMessage));\r\n        });\r\n    })\r\n    .catch(error => {\r\n      const errorMessage = apiErrorHandler(error);\r\n      dispatch(createPostFailure(errorMessage));\r\n    });\r\n};\r\n\r\nexport const createPostRequest = newPost => {\r\n  return {\r\n    type: CREATE_POST_REQUEST,\r\n  };\r\n};\r\n\r\nexport const createPostSuccess = () => {\r\n  return {\r\n    type: CREATE_POST_SUCCESS,\r\n  };\r\n};\r\n\r\nexport const createPostFailure = error => {\r\n  return {\r\n    type: CREATE_POST_FAILURE,\r\n    error,\r\n  };\r\n};\r\n\r\nexport const deletePost = (id, threadID) => dispatch => {\r\n  dispatch(deletePostRequest(id));\r\n\r\n  deletePostApi(id)\r\n    .then(response => {\r\n      dispatch(deletePostSuccess(id));\r\n\r\n      // re-load thread page\r\n      fetchThreadApi(threadID)\r\n        .then(response => {\r\n          dispatch(fetchThreadSuccess(response.data));\r\n        })\r\n        .catch(error => {\r\n          const errorMessage = apiErrorHandler(error);\r\n          dispatch(fetchThreadFailure(errorMessage));\r\n        });\r\n    })\r\n    .catch(error => {\r\n      const errorMessage = apiErrorHandler(error);\r\n      dispatch(deletePostFailure(id, errorMessage));\r\n    });\r\n};\r\n\r\nexport const deletePostRequest = id => {\r\n  return {\r\n    type: DELETE_POST_REQUEST,\r\n    id,\r\n  };\r\n};\r\n\r\nexport const deletePostSuccess = id => {\r\n  return {\r\n    type: DELETE_POST_SUCCESS,\r\n    id,\r\n  };\r\n};\r\n\r\nexport const deletePostFailure = (id, error) => {\r\n  return {\r\n    type: DELETE_POST_FAILURE,\r\n    id,\r\n    error,\r\n  };\r\n};\r\n","import axios from 'axios';\r\nimport {\r\n  POST_URL,\r\n  POST_DELETE_URL,\r\n  POST_CREATE_URL,\r\n  POST_EDIT_URL,\r\n} from './constants';\r\nimport {getConfig} from '../utils/config';\r\n\r\nexport const createPostApi = newPost => {\r\n  return axios.post(POST_CREATE_URL, newPost, getConfig());\r\n};\r\n\r\nexport const deletePostApi = id => {\r\n  return axios.delete(POST_URL + id + POST_DELETE_URL, getConfig());\r\n};\r\n\r\nexport const editPostApi = (id, content) => {\r\n  return axios.put(\r\n    POST_URL + id + POST_EDIT_URL,\r\n    {content: content},\r\n    getConfig(),\r\n  );\r\n};\r\n","import React, {Component} from 'react';\r\nimport {connect} from 'react-redux';\r\nimport Navlink from '../../components/navlink';\r\nimport UserMenu from '../../components/usermenu';\r\nimport './styles.css';\r\nimport {showModal, logout} from '../../actions';\r\n\r\nclass HeaderContainer extends Component {\r\n  render() {\r\n    const {\r\n      isAuthenticated,\r\n      username,\r\n      name,\r\n      avatar,\r\n      handleLogout,\r\n      isLoading,\r\n      showRegister,\r\n      showLogin,\r\n      showEditProfile,\r\n    } = this.props;\r\n\r\n    return (\r\n      <div className=\"headerContainer\">\r\n        <Navlink />\r\n        <UserMenu\r\n          isAuthenticated={isAuthenticated}\r\n          username={username}\r\n          name={name}\r\n          avatar={avatar}\r\n          logout={handleLogout}\r\n          isLoading={isLoading}\r\n          showRegister={showRegister}\r\n          showLogin={showLogin}\r\n          showEditProfile={showEditProfile}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  username: state.auth.username,\r\n  name: state.auth.name,\r\n  avatar: state.auth.avatar,\r\n  isAuthenticated: state.auth.isAuthenticated,\r\n  isLoading: state.auth.isLoading,\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n  handleLogout: () => {\r\n    dispatch(logout());\r\n  },\r\n  showRegister: () => {\r\n    dispatch(showModal('REGISTER', {}));\r\n  },\r\n  showLogin: () => {\r\n    dispatch(showModal('LOGIN', {}));\r\n  },\r\n  showEditProfile: () => {\r\n    dispatch(showModal('EDIT_PROFILE', {}));\r\n  },\r\n});\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps,\r\n)(HeaderContainer);\r\n","import React, {Component} from 'react';\r\nimport {Icon, Message} from 'semantic-ui-react';\r\nimport Loader from '../loader';\r\nimport './styles.css';\r\n\r\nexport default class StatusMessage extends Component {\r\n  render() {\r\n    const {\r\n      loading,\r\n      loadingClassName,\r\n      loadingMessage,\r\n      error,\r\n      errorClassName,\r\n      errorMessage,\r\n      success,\r\n      successClassName,\r\n      successMessage,\r\n      nothing,\r\n      nothingClassName,\r\n      nothingMessage,\r\n      type,\r\n    } = this.props;\r\n\r\n    if (loading) {\r\n      if (type === 'modal') {\r\n        return (\r\n          <div className={loadingClassName || 'statusMessage-modal'}>\r\n            <Message attached icon>\r\n              <Message.Content>\r\n                <Icon name=\"circle notched\" loading size=\"big\" />\r\n                {loadingMessage || 'Loading ...'}\r\n              </Message.Content>\r\n            </Message>\r\n          </div>\r\n        );\r\n      }\r\n      return (\r\n        <div className={loadingClassName || 'statusMessage-default'}>\r\n          <Loader />\r\n          <br />\r\n          <Message size=\"tiny\">\r\n            <Message.Content>\r\n              <Message.Header>Just few seconds</Message.Header>\r\n              {loadingMessage || 'We are fetching the content for you.'}\r\n            </Message.Content>\r\n          </Message>\r\n        </div>\r\n      );\r\n    } else if (error) {\r\n      if (type === 'modal') {\r\n        return (\r\n          <div className={errorClassName || 'statusMessage-modal'}>\r\n            <Message attached error icon>\r\n              <Message.Content>\r\n                <Icon name=\"thumbs outline down\" size=\"big\" />\r\n                {errorMessage || error || 'Sorry, something went wrong'}\r\n              </Message.Content>\r\n            </Message>\r\n          </div>\r\n        );\r\n      }\r\n      return (\r\n        <div className={errorClassName || 'statusMessage-default'}>\r\n          <Message error>\r\n            <Message.Content>\r\n              <Icon name=\"thumbs outline down\" size=\"big\" />\r\n              {errorMessage || error || 'Sorry, something went wrong'}\r\n            </Message.Content>\r\n          </Message>\r\n        </div>\r\n      );\r\n    } else if (success) {\r\n      if (type === 'modal') {\r\n        return (\r\n          <div className={successClassName || 'statusMessage-modal'}>\r\n            <Message attached positive icon>\r\n              <Message.Content>\r\n                <Icon name=\"thumbs outline up\" size=\"big\" />\r\n                {successMessage || 'Successful'}\r\n              </Message.Content>\r\n            </Message>\r\n          </div>\r\n        );\r\n      }\r\n      return (\r\n        <div className={successClassName || 'statusMessage-default'}>\r\n          <Message positive>\r\n            <Message.Content>\r\n              <Icon name=\"thumbs outline up\" size=\"big\" />\r\n              {successMessage || 'Successful'}\r\n            </Message.Content>\r\n          </Message>\r\n        </div>\r\n      );\r\n    } else if (nothing) {\r\n      if (type === 'modal') {\r\n        return (\r\n          <div className={nothingClassName || 'statusMessage-modal'}>\r\n            <Message attached error icon>\r\n              <Message.Content>\r\n                <Icon name=\"thumbs outline down\" size=\"big\" />\r\n                {nothingMessage || 'Successful'}\r\n              </Message.Content>\r\n            </Message>\r\n          </div>\r\n        );\r\n      }\r\n      return (\r\n        <div className={nothingClassName || 'statusMessage-default'}>\r\n          <Message error>\r\n            <Message.Content>\r\n              <Icon name=\"thumbs outline down\" size=\"big\" />\r\n              {nothingMessage || 'Nothing to display'}\r\n            </Message.Content>\r\n          </Message>\r\n        </div>\r\n      );\r\n    }\r\n    return null;\r\n  }\r\n}\r\n","import React, {Component} from 'react';\r\nimport {Form, Icon, Message, Button} from 'semantic-ui-react';\r\nimport StatusMessage from '../../components/statusmessage';\r\nimport './styles.css';\r\n\r\nexport default class Register extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      username: '',\r\n      name: '',\r\n      email: '',\r\n      password: '',\r\n      checked: true,\r\n    };\r\n  }\r\n\r\n  handleChange = (e, {name, value}) => {\r\n    this.setState({[name]: value});\r\n  };\r\n\r\n  handleCheckbox = () => {\r\n    this.setState({checked: !this.state.checked});\r\n  };\r\n\r\n  isFormValid = () => {\r\n    const {username, name, email, password, checked} = this.state;\r\n\r\n    let isFormValid = true;\r\n    if (!username || !name || !email || !password || !checked) {\r\n      isFormValid = false;\r\n    }\r\n    return isFormValid;\r\n  };\r\n\r\n  handleSubmit = e => {\r\n    if (this.isFormValid()) {\r\n      let data = {\r\n        username: this.state.username,\r\n        name: this.state.name,\r\n        email: this.state.email,\r\n        password: this.state.password,\r\n      };\r\n      this.props.handleRegister(data);\r\n    }\r\n  };\r\n\r\n  render() {\r\n    let {isLoading, error, showLogin} = this.props;\r\n\r\n    const statusMessage = (\r\n      <StatusMessage\r\n        error={error}\r\n        errorMessage={error || 'Login Error'}\r\n        loading={isLoading}\r\n        loadingMessage={'Registering your account'}\r\n        type=\"modal\"\r\n      />\r\n    );\r\n\r\n    return (\r\n      <div>\r\n        <Message\r\n          attached\r\n          header=\"Welcome to our site!\"\r\n          content=\"Fill out the form below to sign-up for a new account\"\r\n        />\r\n        {statusMessage}\r\n        <Form className=\"attached fluid segment\">\r\n          <Form.Input\r\n            required\r\n            label=\"Username\"\r\n            placeholder=\"Username\"\r\n            type=\"text\"\r\n            name=\"username\"\r\n            value={this.state.username}\r\n            onChange={this.handleChange}\r\n          />\r\n          <Form.Input\r\n            required\r\n            label=\"Name\"\r\n            placeholder=\"Name\"\r\n            type=\"text\"\r\n            name=\"name\"\r\n            value={this.state.name}\r\n            onChange={this.handleChange}\r\n          />\r\n          <Form.Input\r\n            required\r\n            label=\"Email\"\r\n            placeholder=\"Email\"\r\n            type=\"email\"\r\n            name=\"email\"\r\n            value={this.state.email}\r\n            onChange={this.handleChange}\r\n          />\r\n          <Form.Input\r\n            required\r\n            label=\"Password\"\r\n            type=\"password\"\r\n            name=\"password\"\r\n            value={this.state.password}\r\n            onChange={this.handleChange}\r\n          />\r\n          <Form.Checkbox\r\n            inline\r\n            required\r\n            label=\"I agree to the terms and conditions\"\r\n            name=\"agreement\"\r\n            checked={this.state.checked}\r\n            onChange={this.handleCheckbox}\r\n          />\r\n          <Button\r\n            color=\"blue\"\r\n            loading={isLoading}\r\n            disabled={isLoading}\r\n            onClick={this.handleSubmit}>\r\n            Submit\r\n          </Button>\r\n        </Form>\r\n        <Message attached=\"bottom\" warning>\r\n          <Icon name=\"help\" />\r\n          Already signed up?&nbsp;\r\n          {/* eslint-disable-next-line */}\r\n          <a className=\"register-login\" onClick={showLogin}>\r\n            Login here\r\n          </a>\r\n          &nbsp;instead.\r\n        </Message>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, {Component} from 'react';\r\nimport {Icon} from 'semantic-ui-react';\r\nimport './styles.css';\r\n\r\nexport default class Modal extends Component {\r\n  listenKeyboard = event => {\r\n    if (event.key === 'Escape' || event.keyCode === 27) {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  componentDidMount() {\r\n    if (this.props.onClose) {\r\n      window.addEventListener('keydown', this.listenKeyboard, true);\r\n    }\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    if (this.props.onClose) {\r\n      window.removeEventListener('keydown', this.listenKeyboard, true);\r\n    }\r\n  }\r\n\r\n  closeModal = () => {\r\n    this.props.onClose();\r\n  };\r\n\r\n  onDialogClick = event => {\r\n    event.stopPropagation();\r\n  };\r\n\r\n  render() {\r\n    const overlayStyle = this.props.overlayStyle ? this.props.overlayStyle : {};\r\n    const contentStyle = this.props.contentStyle ? this.props.contentStyle : {};\r\n    const dialogStyle = this.props.dialogStyle ? this.props.dialogStyle : {};\r\n\r\n    return (\r\n      <div>\r\n        <div className=\"modal-overlay-div\" style={overlayStyle} />\r\n        <div\r\n          className=\"modal-content-div\"\r\n          style={contentStyle}\r\n          onClick={this.closeModal}>\r\n          <div\r\n            className=\"modal-dialog-div\"\r\n            style={dialogStyle}\r\n            onClick={this.onDialogClick}>\r\n            <Icon\r\n              name=\"window close outline\"\r\n              size=\"large\"\r\n              className=\"modal-close-div\"\r\n              onClick={this.closeModal}\r\n            />\r\n            {this.props.children}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, {Component} from 'react';\r\nimport {connect} from 'react-redux';\r\nimport Register from '../../components/register';\r\nimport Modal from '../../components/modal';\r\nimport {hideModal, registerReset, showModal, register} from '../../actions';\r\n\r\nclass RegisterModal extends Component {\r\n  componentWillMount() {\r\n    if (this.props.isAuthenticated) {\r\n      this.props.handleClose();\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      isAuthenticated,\r\n      isLoading,\r\n      error,\r\n      handleRegister,\r\n      showLogin,\r\n      handleClose,\r\n    } = this.props;\r\n\r\n    return isAuthenticated ? null : (\r\n      <Modal onClose={handleClose}>\r\n        <Register\r\n          handleRegister={handleRegister}\r\n          showLogin={showLogin}\r\n          isLoading={isLoading}\r\n          error={error}\r\n        />\r\n      </Modal>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  isAuthenticated: state.auth.isAuthenticated,\r\n  error: state.register.error,\r\n  isLoading: state.register.isLoading,\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n  handleRegister: data => {\r\n    dispatch(register(data));\r\n  },\r\n  handleClose: () => {\r\n    dispatch(hideModal());\r\n    dispatch(registerReset());\r\n  },\r\n  showLogin: () => {\r\n    dispatch(showModal('LOGIN', {}));\r\n    dispatch(registerReset());\r\n  },\r\n});\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps,\r\n)(RegisterModal);\r\n","import React, {Component} from 'react';\r\nimport {Form, Icon, Message, Button} from 'semantic-ui-react';\r\nimport StatusMessage from '../../components/statusmessage';\r\nimport './styles.css';\r\n\r\nexport default class Login extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      username: '',\r\n      password: '',\r\n    };\r\n  }\r\n\r\n  handleChange = (e, {name, value}) => {\r\n    this.setState({[name]: value});\r\n  };\r\n\r\n  isFormValid = () => {\r\n    const {username, password} = this.state;\r\n\r\n    let isFormValid = true;\r\n    if (!username || !password) {\r\n      isFormValid = false;\r\n    }\r\n    return isFormValid;\r\n  };\r\n\r\n  handleSubmit = e => {\r\n    if (this.isFormValid()) {\r\n      this.props.handleLogin(this.state.username, this.state.password);\r\n    }\r\n  };\r\n\r\n  render() {\r\n    let {isLoading, error, showRegister} = this.props;\r\n\r\n    const statusMessage = (\r\n      <StatusMessage\r\n        error={error}\r\n        errorMessage={error || 'Login Error'}\r\n        loading={isLoading}\r\n        loadingMessage={'Signing in'}\r\n        type=\"modal\"\r\n      />\r\n    );\r\n\r\n    return (\r\n      <div>\r\n        <Message attached header=\"Login\" />\r\n        {statusMessage}\r\n        <Form className=\"attached fluid segment\">\r\n          <Form.Input\r\n            required\r\n            label=\"Username\"\r\n            placeholder=\"Username\"\r\n            type=\"text\"\r\n            name=\"username\"\r\n            value={this.state.username}\r\n            onChange={this.handleChange}\r\n          />\r\n          <Form.Input\r\n            required\r\n            label=\"Password\"\r\n            type=\"password\"\r\n            name=\"password\"\r\n            value={this.state.password}\r\n            onChange={this.handleChange}\r\n          />\r\n          <Button\r\n            color=\"blue\"\r\n            loading={isLoading}\r\n            disabled={isLoading}\r\n            onClick={this.handleSubmit}>\r\n            Login\r\n          </Button>\r\n        </Form>\r\n        <Message attached=\"bottom\" warning>\r\n          <Icon name=\"help\" />\r\n          New to this site?&nbsp;\r\n          {/* eslint-disable-next-line */}\r\n          <a className=\"login-register\" onClick={showRegister}>\r\n            Register here\r\n          </a>\r\n          &nbsp;instead.\r\n        </Message>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, {Component} from 'react';\r\nimport {connect} from 'react-redux';\r\nimport Login from '../../components/login';\r\nimport Modal from '../../components/modal';\r\nimport {hideModal, loginReset, showModal, login} from '../../actions';\r\n\r\nclass LoginModal extends Component {\r\n  componentWillMount() {\r\n    if (this.props.isAuthenticated) {\r\n      this.props.handleClose();\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      isAuthenticated,\r\n      isLoading,\r\n      error,\r\n      handleClose,\r\n      showRegister,\r\n      handleLogin,\r\n    } = this.props;\r\n\r\n    return isAuthenticated ? null : (\r\n      <Modal onClose={handleClose}>\r\n        <Login\r\n          handleLogin={handleLogin}\r\n          showRegister={showRegister}\r\n          isLoading={isLoading}\r\n          error={error}\r\n        />\r\n      </Modal>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  isLoading: state.auth.isLoading,\r\n  error: state.auth.error,\r\n  isAuthenticated: state.auth.isAuthenticated,\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n  handleLogin: (username, password) => {\r\n    dispatch(login(username, password));\r\n  },\r\n  handleClose: () => {\r\n    dispatch(hideModal());\r\n    dispatch(loginReset());\r\n  },\r\n  showRegister: () => {\r\n    dispatch(showModal('REGISTER', {}));\r\n    dispatch(loginReset());\r\n  },\r\n});\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps,\r\n)(LoginModal);\r\n","import React, {Component} from 'react';\r\nimport Dropzone from 'react-dropzone';\r\nimport {Form, Image, Message, Button, TextArea, Grid} from 'semantic-ui-react';\r\nimport {imageUploadApi} from '../../api/image';\r\nimport StatusMessage from '../../components/statusmessage';\r\nimport './styles.css';\r\n\r\nexport default class EditProfile extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    const {name, avatar} = this.props;\r\n\r\n    this.state = {\r\n      name: name,\r\n      newPassword: '',\r\n      currentPassword: '',\r\n      bio: '',\r\n      status: '',\r\n      avatar: avatar,\r\n      avatarFile: null,\r\n      avatarError: null,\r\n      avatarUploading: false,\r\n    };\r\n  }\r\n\r\n  handleChange = (e, {name, value}) => {\r\n    this.setState({[name]: value});\r\n  };\r\n\r\n  onImageDrop = files => {\r\n    this.setState({\r\n      avatarFile: files[0],\r\n    });\r\n  };\r\n\r\n  editProfile = () => {\r\n    let newProfile = {\r\n      name: this.state.name,\r\n      current_password: this.state.currentPassword,\r\n      new_password: this.state.newPassword,\r\n      bio: this.state.bio,\r\n      avatar: this.state.avatar,\r\n      status: this.state.status,\r\n    };\r\n    this.props.handleEdit(newProfile);\r\n\r\n    // prevent spamming so user have to keep entering password for every edit submission\r\n    this.setState({\r\n      currentPassword: '',\r\n    });\r\n  };\r\n\r\n  handleSubmit = () => {\r\n    const {currentPassword, avatarFile} = this.state;\r\n\r\n    if (currentPassword !== '') {\r\n      if (!avatarFile) {\r\n        // no new avatar\r\n        this.editProfile();\r\n      } else {\r\n        this.setState({\r\n          avatarUploading: true,\r\n        });\r\n\r\n        imageUploadApi(avatarFile)\r\n          .then(response => {\r\n            this.setState({\r\n              avatar: response.data.secure_url,\r\n              avatarUploading: false,\r\n            });\r\n            this.editProfile();\r\n          })\r\n          .catch(error => {\r\n            console.log(error);\r\n            this.setState({\r\n              avatarError: 'Image Upload Error',\r\n              avatarFile: null,\r\n              avatarUploading: false,\r\n            });\r\n          });\r\n      }\r\n    }\r\n  };\r\n\r\n  render() {\r\n    let {isLoading, error, success} = this.props;\r\n\r\n    let {\r\n      name,\r\n      newPassword,\r\n      currentPassword,\r\n      bio,\r\n      status,\r\n      avatar,\r\n      avatarFile,\r\n      avatarError,\r\n      avatarUploading,\r\n    } = this.state;\r\n\r\n    const statusMessage = (\r\n      <StatusMessage\r\n        error={error || avatarError}\r\n        errorMessage={error || avatarError}\r\n        loading={isLoading || avatarUploading}\r\n        loadingMessage={'Editing your profile'}\r\n        success={success}\r\n        successMessage={'Your profile edit was successful'}\r\n        type=\"modal\"\r\n      />\r\n    );\r\n    const avatarURL = avatarFile ? avatarFile.preview : avatar;\r\n\r\n    return (\r\n      <div>\r\n        <Message\r\n          attached\r\n          header=\"Edit Your Profile\"\r\n          content=\"Fill out any part of the form below to edit your profile\"\r\n        />\r\n        {statusMessage}\r\n        <Form className=\"attached segment\">\r\n          <Grid celled columns={2}>\r\n            <Grid.Column>\r\n              <Form.Field>\r\n                <label>Profile picture</label>\r\n                <Dropzone\r\n                  onDrop={this.onImageDrop}\r\n                  multiple={false}\r\n                  accept=\"image/*\">\r\n                  <Image src={avatarURL} className=\"editProfile-avatar\" />\r\n                </Dropzone>\r\n              </Form.Field>\r\n              <Form.Input\r\n                label=\"Bio\"\r\n                placeholder=\"Describe yourself\"\r\n                type=\"text\"\r\n                name=\"bio\"\r\n                control={TextArea}\r\n                value={bio}\r\n                onChange={this.handleChange}\r\n              />\r\n            </Grid.Column>\r\n            <Grid.Column>\r\n              <Form.Input\r\n                label=\"Name\"\r\n                placeholder=\"Name\"\r\n                type=\"text\"\r\n                name=\"name\"\r\n                value={name}\r\n                onChange={this.handleChange}\r\n              />\r\n              <Form.Input\r\n                required\r\n                label=\"Current Password\"\r\n                type=\"password\"\r\n                name=\"currentPassword\"\r\n                value={currentPassword}\r\n                onChange={this.handleChange}\r\n              />\r\n              <Form.Input\r\n                label=\"New Password\"\r\n                type=\"password\"\r\n                name=\"newPassword\"\r\n                value={newPassword}\r\n                onChange={this.handleChange}\r\n              />\r\n              <Form.Input\r\n                label=\"Status\"\r\n                placeholder=\"Who are you (e.g: Writer)\"\r\n                type=\"text\"\r\n                name=\"status\"\r\n                value={status}\r\n                onChange={this.handleChange}\r\n              />\r\n            </Grid.Column>\r\n          </Grid>\r\n          <Button\r\n            color=\"blue\"\r\n            loading={isLoading}\r\n            disabled={isLoading}\r\n            onClick={this.handleSubmit}>\r\n            Submit\r\n          </Button>\r\n        </Form>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, {Component} from 'react';\r\nimport {connect} from 'react-redux';\r\nimport EditProfile from '../../components/editprofile';\r\nimport Modal from '../../components/modal';\r\nimport {hideModal, editProfileReset, editProfile} from '../../actions';\r\n\r\nclass EditProfileModal extends Component {\r\n  componentWillMount() {\r\n    if (!this.props.isAuthenticated) {\r\n      this.props.handleClose();\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      isAuthenticated,\r\n      isEditing,\r\n      error,\r\n      avatar,\r\n      name,\r\n      editProfile,\r\n      handleClose,\r\n      success,\r\n    } = this.props;\r\n\r\n    return !isAuthenticated ? null : (\r\n      <Modal onClose={handleClose} dialogStyle={{minWidth: '500px'}}>\r\n        <EditProfile\r\n          avatar={avatar}\r\n          name={name}\r\n          handleEdit={editProfile}\r\n          isLoading={isEditing}\r\n          error={error}\r\n          success={success}\r\n        />\r\n      </Modal>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  isAuthenticated: state.auth.isAuthenticated,\r\n  isEditing: state.auth.isEditing,\r\n  error: state.auth.editError,\r\n  avatar: state.auth.avatar,\r\n  name: state.auth.name,\r\n  success: state.auth.editSuccess,\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n  editProfile: newProfile => {\r\n    dispatch(editProfile(newProfile));\r\n  },\r\n  handleClose: () => {\r\n    dispatch(hideModal());\r\n    dispatch(editProfileReset());\r\n  },\r\n});\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps,\r\n)(EditProfileModal);\r\n","import React from 'react';\r\nimport {connect} from 'react-redux';\r\nimport RegisterModal from './register';\r\nimport LoginModal from './login';\r\nimport EditProfileModal from './editprofile';\r\n\r\nconst ModalContainer = props => {\r\n  switch (props.modalType) {\r\n    case 'REGISTER':\r\n      return <RegisterModal />;\r\n    case 'LOGIN':\r\n      return <LoginModal />;\r\n    case 'EDIT_PROFILE':\r\n      return <EditProfileModal />;\r\n    default:\r\n      return null;\r\n  }\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n  modalType: state.modal.modalType,\r\n  modalProps: state.modal.modalProps, // for future use if need to pass props\r\n});\r\n\r\nexport default connect(mapStateToProps)(ModalContainer);\r\n","import React, {Component} from 'react';\r\nimport Avatar from '../avatar';\r\nimport './styles.css';\r\n\r\nclass Profile extends Component {\r\n  formatDateTime(datetime) {\r\n    return datetime.split('.')[0].replace('T', ' ');\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      name,\r\n      username,\r\n      avatar,\r\n      bio,\r\n      status,\r\n      isStaff,\r\n      dateJoined,\r\n    } = this.props;\r\n\r\n    return (\r\n      <div className=\"profileContainer\">\r\n        <div>\r\n          <Avatar className=\"profileAvatar\" avatar={avatar} centered={false} />\r\n        </div>\r\n        <div className=\"profileInfo\">\r\n          <div className=\"name\">{name}</div>\r\n          <div className=\"username\">\r\n            <strong>@{username}</strong>\r\n            <b className=\"staffStatus\">{isStaff ? ' (Staff) ' : ''}</b>\r\n          </div>\r\n          <div className=\"status\">\r\n            <strong>Status: </strong>\r\n            {status}\r\n          </div>\r\n          <div className=\"dateJoined\">\r\n            <strong>Joined: </strong>\r\n            {dateJoined}\r\n          </div>\r\n          <div className=\"bio\">\r\n            <strong>Bio: </strong>\r\n            {bio}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Profile;\r\n","import React, {Component} from 'react';\r\nimport {connect} from 'react-redux';\r\nimport {fetchUserProfile} from '../../actions';\r\nimport StatusMessage from '../../components/statusmessage';\r\nimport Profile from '../../components/profile';\r\nimport './styles.css';\r\n\r\nclass UserProfileContainer extends Component {\r\n  componentDidMount() {\r\n    const {username} = this.props.match.params;\r\n    this.props.fetchUserProfile(username);\r\n  }\r\n\r\n  componentWillReceiveProps(newProps) {\r\n    const {username: oldUsername} = this.props.match.params;\r\n    const {username: futureUsername} = newProps.match.params;\r\n    if (oldUsername !== futureUsername) {\r\n      this.props.fetchUserProfile(futureUsername);\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const {isLoading, error, profile} = this.props;\r\n\r\n    if (error || !profile || isLoading) {\r\n      return (\r\n        <StatusMessage\r\n          error={error || !profile}\r\n          errorClassName=\"userProfile-error\"\r\n          errorMessage={error}\r\n          loading={isLoading}\r\n          loadingMessage={`We are fetching the user profile for you`}\r\n          type=\"default\"\r\n        />\r\n      );\r\n    }\r\n\r\n    const {\r\n      name,\r\n      username,\r\n      status,\r\n      bio,\r\n      avatar,\r\n      is_staff,\r\n      date_joined,\r\n    } = profile;\r\n\r\n    return (\r\n      <Profile\r\n        username={username}\r\n        name={name}\r\n        avatar={avatar}\r\n        status={status}\r\n        bio={bio}\r\n        dateJoined={date_joined}\r\n        isStaff={is_staff}\r\n      />\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  isLoading: state.userProfile.isLoading,\r\n  profile: state.userProfile.profile,\r\n  error: state.userProfile.error,\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n  fetchUserProfile: username => {\r\n    dispatch(fetchUserProfile(username));\r\n  },\r\n});\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps,\r\n)(UserProfileContainer);\r\n","import React, {Component} from 'react';\r\nimport {Card} from 'semantic-ui-react';\r\nimport Avatar from '../avatar';\r\nimport {Link} from 'react-router-dom';\r\nimport './styles.css';\r\n\r\nclass UserCard extends Component {\r\n  render() {\r\n    const {name, username, isStaff, avatar} = this.props;\r\n\r\n    return (\r\n      <Card>\r\n        <Avatar\r\n          className=\"userCard-avatar\"\r\n          avatar={avatar}\r\n          link={`/user/${username}`}\r\n        />\r\n        <Card.Content>\r\n          <Card.Header>{name}</Card.Header>\r\n          <Card.Meta>\r\n            <Link to={`/user/${username}`}>@{username}</Link>\r\n            <b style={{color: 'red', fontSize: '12px'}}>\r\n              {isStaff ? ' (Staff) ' : ''}\r\n            </b>\r\n          </Card.Meta>\r\n        </Card.Content>\r\n      </Card>\r\n    );\r\n  }\r\n}\r\n\r\nexport default UserCard;\r\n","import React, {Component} from 'react';\r\nimport StatusMessage from '../statusmessage';\r\nimport UserCard from '../usercard';\r\nimport './styles.css';\r\n\r\nexport default class UserList extends Component {\r\n  render() {\r\n    const {isLoading, error, users} = this.props;\r\n\r\n    if (error || !users || isLoading || users.length === 0) {\r\n      return (\r\n        <StatusMessage\r\n          error={error || !users}\r\n          errorClassName=\"users-error\"\r\n          errorMessage={error}\r\n          loading={isLoading}\r\n          loadingMessage={`We are fetching the users for you`}\r\n          nothing={users && users.length === 0}\r\n          nothingMessage={`No user to display`}\r\n          nothingClassName=\"users-error\"\r\n          type=\"default\"\r\n        />\r\n      );\r\n    }\r\n\r\n    const userCardList = users.map(user => {\r\n      const {name, username, avatar, is_staff} = user;\r\n\r\n      return (\r\n        <div key={username} className=\"userCard\">\r\n          <UserCard\r\n            username={username}\r\n            name={name}\r\n            avatar={avatar}\r\n            isStaff={is_staff}\r\n          />\r\n        </div>\r\n      );\r\n    });\r\n    return <div className=\"usersContainer\">{userCardList}</div>;\r\n  }\r\n}\r\n","import React, {Component} from 'react';\r\nimport {connect} from 'react-redux';\r\nimport {fetchUsers} from '../../actions';\r\nimport UserList from '../../components/userlist';\r\n\r\nclass UsersContainer extends Component {\r\n  componentDidMount() {\r\n    this.props.fetchUsers();\r\n  }\r\n\r\n  render() {\r\n    return <UserList {...this.props} />;\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  isLoading: state.users.isLoading,\r\n  users: state.users.users,\r\n  error: state.users.error,\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n  fetchUsers: () => {\r\n    dispatch(fetchUsers());\r\n  },\r\n});\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps,\r\n)(UsersContainer);\r\n","import React, {Component} from 'react';\r\nimport {EditorState, ContentState, convertFromRaw} from 'draft-js';\r\nimport 'react-draft-wysiwyg/dist/react-draft-wysiwyg.css';\r\nimport './styles.css';\r\nimport {Editor} from 'react-draft-wysiwyg';\r\nimport {imageUploadApi} from '../../api/image';\r\n\r\nexport default class RichEditor extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    let {content, editorState} = this.props;\r\n    editorState = editorState || this.convertToEditorState(content);\r\n    this.state = {\r\n      editorState,\r\n    };\r\n  }\r\n\r\n  componentWillReceiveProps(newProps) {\r\n    const {editorState: newEditorState, content: newContent} = newProps;\r\n    const editorState = newEditorState || this.convertToEditorState(newContent);\r\n    this.setState({\r\n      editorState,\r\n    });\r\n  }\r\n\r\n  convertToEditorState = content => {\r\n    let editorState = EditorState.createEmpty();\r\n    if (content) {\r\n      try {\r\n        const contentState = convertFromRaw(JSON.parse(content));\r\n        editorState = EditorState.createWithContent(contentState);\r\n      } catch (error) {\r\n        const contentState = ContentState.createFromText(content);\r\n        editorState = EditorState.createWithContent(contentState);\r\n      }\r\n    }\r\n    return editorState;\r\n  };\r\n\r\n  onEditorStateChange = editorState => {\r\n    this.setState({\r\n      editorState,\r\n    });\r\n  };\r\n\r\n  uploadImageCallBack = file => {\r\n    return new Promise((resolve, reject) => {\r\n      imageUploadApi(file, false)\r\n        .then(response => {\r\n          /* react-draft-wywsgi need data.link as the uploaded image url\r\n          so we had to slightly modify the result from cloudinary response */\r\n          let newResponse = {\r\n            data: {\r\n              link: response.data.secure_url,\r\n            },\r\n          };\r\n          resolve(newResponse);\r\n        })\r\n        .catch(error => {\r\n          reject(error);\r\n        });\r\n    });\r\n  };\r\n\r\n  render() {\r\n    const {\r\n      readOnly,\r\n      wrapperClassName,\r\n      toolbarClassName,\r\n      editorClassName,\r\n      handleBeforeInput,\r\n      handlePastedText,\r\n      onEditorStateChange,\r\n      editorState,\r\n      uploadImageCallBack,\r\n      placeholder,\r\n    } = this.props;\r\n    return (\r\n      <Editor\r\n        toolbar={{\r\n          options: [\r\n            'inline',\r\n            'blockType',\r\n            'fontSize',\r\n            'fontFamily',\r\n            'list',\r\n            'textAlign',\r\n            'colorPicker',\r\n            'link',\r\n            'emoji',\r\n            'image',\r\n            'history',\r\n          ],\r\n          inline: {inDropdown: true},\r\n          list: {inDropdown: true},\r\n          textAlign: {inDropdown: true},\r\n          link: {inDropdown: true},\r\n          image: {\r\n            uploadCallback: uploadImageCallBack || this.uploadImageCallBack,\r\n            alt: {present: true},\r\n            previewImage: true,\r\n          },\r\n          fontFamily: {\r\n            options: [\r\n              'Arial',\r\n              'Georgia',\r\n              'Impact',\r\n              'Tahoma',\r\n              'Roboto',\r\n              'Times New Roman',\r\n              'Verdana',\r\n            ],\r\n          },\r\n        }}\r\n        editorState={editorState || this.state.editorState}\r\n        wrapperClassName={wrapperClassName || 'richEditor-wrapper'}\r\n        toolbarClassName={toolbarClassName || 'richEditor-toolbar'}\r\n        editorClassName={editorClassName || 'richEditor-editor'}\r\n        onEditorStateChange={onEditorStateChange || this.onEditorStateChange}\r\n        readOnly={readOnly}\r\n        toolbarHidden={readOnly}\r\n        handleBeforeInput={handleBeforeInput}\r\n        handlePastedText={handlePastedText}\r\n        placeholder={placeholder}\r\n      />\r\n    );\r\n  }\r\n}\r\n","import React, {Component} from 'react';\r\nimport {Link} from 'react-router-dom';\r\nimport {Segment, Grid, Icon, Dropdown} from 'semantic-ui-react';\r\nimport RichEditor from '../richeditor';\r\nimport Avatar from '../avatar';\r\nimport './styles.css';\r\n\r\nexport default class Post extends Component {\r\n  onDelete = () => {\r\n    const {deleteAction, id, threadID, isThread} = this.props;\r\n    if (isThread) {\r\n      deleteAction(threadID);\r\n    } else {\r\n      deleteAction(id, threadID);\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const {\r\n      id,\r\n      isThread,\r\n      content,\r\n      createdAt,\r\n      creator,\r\n      authenticatedUsername,\r\n      authenticatedIsStaff,\r\n      deletePostList,\r\n    } = this.props;\r\n\r\n    const color = isThread ? 'black' : null;\r\n    const deleteText = isThread ? 'Delete Thread' : 'Delete Post';\r\n    const actions = (\r\n      <div className=\"post-dropdown\">\r\n        <Dropdown simple icon=\"caret down\" direction=\"left\">\r\n          <Dropdown.Menu>\r\n            <Dropdown.Item\r\n              onClick={this.onDelete}\r\n              icon=\"delete\"\r\n              text={deleteText}\r\n            />\r\n          </Dropdown.Menu>\r\n        </Dropdown>\r\n      </div>\r\n    );\r\n    const isLoading = !isThread && deletePostList.indexOf(id) >= 0;\r\n    return (\r\n      <Segment loading={isLoading} color={color}>\r\n        <Grid textAlign=\"left\" padded=\"horizontally\">\r\n          <Grid.Column width={4}>\r\n            <Grid.Row>\r\n              <div className=\"post-row\">\r\n                <Avatar\r\n                  className=\"post-avatar\"\r\n                  avatar={creator.avatar}\r\n                  centered={false}\r\n                  link={`/user/${creator.username}`}\r\n                />\r\n                <div className=\"post-column\">\r\n                  <div className=\"post-name\">{creator.name}</div>\r\n                  <div className=\"post-username\">\r\n                    <Link to={`/user/${creator.username}`}>\r\n                      <Icon name=\"user\" />\r\n                      {creator.username}\r\n                    </Link>\r\n                  </div>\r\n                  <div className=\"post-status\">\r\n                    {creator.status || 'Member'}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </Grid.Row>\r\n          </Grid.Column>\r\n          <Grid.Column width={12}>\r\n            <div className=\"post-time\">\r\n              {createdAt}\r\n              {(authenticatedIsStaff ||\r\n                authenticatedUsername === creator.username) &&\r\n                actions}\r\n            </div>\r\n            <RichEditor\r\n              readOnly={true}\r\n              content={content}\r\n              wrapperClassName={\r\n                false ? 'post-wrapper-edit' : 'post-wrapper-read'\r\n              }\r\n              editorClassName=\"post-editor\"\r\n              toolbarClassName=\"post-toolbar\"\r\n            />\r\n          </Grid.Column>\r\n        </Grid>\r\n      </Segment>\r\n    );\r\n  }\r\n}\r\n","import React, {Component} from 'react';\r\nimport {getSelectedBlock} from 'draftjs-utils';\r\nimport htmlToDraft from 'html-to-draftjs';\r\nimport {List} from 'immutable';\r\nimport {EditorState, convertToRaw, Modifier} from 'draft-js';\r\nimport {Form, Icon, Button} from 'semantic-ui-react';\r\nimport './styles.css';\r\nimport RichEditor from '../richeditor';\r\nimport StatusMessage from '../statusmessage';\r\n\r\nexport default class NewPost extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      editorState: EditorState.createEmpty(),\r\n    };\r\n  }\r\n\r\n  componentWillReceiveProps(newProps) {\r\n    const {success} = newProps;\r\n    if (success) {\r\n      this.setState({\r\n        editorState: EditorState.createEmpty(),\r\n      });\r\n    }\r\n  }\r\n\r\n  onEditorStateChange = editorState => {\r\n    this.setState({\r\n      editorState,\r\n    });\r\n  };\r\n\r\n  onSubmit = () => {\r\n    const {editorState} = this.state;\r\n    const {threadID, createPost} = this.props;\r\n    const content = JSON.stringify(\r\n      convertToRaw(editorState.getCurrentContent()),\r\n    );\r\n    let newPost = {\r\n      thread_id: threadID,\r\n      content: content,\r\n    };\r\n    createPost(newPost);\r\n  };\r\n\r\n  isValidLength = contentState => {\r\n    const maxLength = this.props.maxLength || 1000;\r\n    return contentState.getPlainText('').length <= maxLength;\r\n  };\r\n\r\n  handleBeforeInput = input => {\r\n    const {editorState} = this.state;\r\n    if (!this.isValidLength(editorState.getCurrentContent())) {\r\n      return 'handled';\r\n    }\r\n  };\r\n\r\n  handlePastedText = (text, html, editorState, onChange) => {\r\n    if (html) {\r\n      const contentBlock = htmlToDraft(html);\r\n      let contentState = editorState.getCurrentContent();\r\n      contentBlock.entityMap.forEach((value, key) => {\r\n        contentState = contentState.mergeEntityData(key, value);\r\n      });\r\n      contentState = Modifier.replaceWithFragment(\r\n        contentState,\r\n        editorState.getSelection(),\r\n        new List(contentBlock.contentBlocks),\r\n      );\r\n      if (!this.isValidLength(contentState)) {\r\n        return 'handled';\r\n      }\r\n      onChange(\r\n        EditorState.push(editorState, contentState, 'insert-characters'),\r\n      );\r\n      return true;\r\n    }\r\n    const selectedBlock = getSelectedBlock(editorState);\r\n    const newState = Modifier.replaceText(\r\n      editorState.getCurrentContent(),\r\n      editorState.getSelection(),\r\n      text,\r\n      editorState.getCurrentInlineStyle(),\r\n    );\r\n    if (!this.isValidLength(newState)) {\r\n      return 'handled';\r\n    }\r\n    onChange(EditorState.push(editorState, newState, 'insert-characters'));\r\n    if (selectedBlock && selectedBlock.type === 'code') {\r\n      return true;\r\n    }\r\n    return false;\r\n  };\r\n\r\n  render() {\r\n    const {isAuthenticated, isLoading, error} = this.props;\r\n    if (!isAuthenticated) {\r\n      return (\r\n        <div className=\"newPost-none\">{'Please sign in to post a reply'}</div>\r\n      );\r\n    }\r\n    const {editorState} = this.state;\r\n    const statusMessage = (\r\n      <StatusMessage\r\n        error={error}\r\n        errorClassName=\"newPost-message\"\r\n        errorMessage={error || 'Oops! Something went wrong.'}\r\n        type=\"modal\"\r\n      />\r\n    );\r\n\r\n    return (\r\n      <div className=\"newPost-show\">\r\n        {statusMessage}\r\n        <Form loading={isLoading} className=\"attached fluid segment\">\r\n          <RichEditor\r\n            placeholder=\"Start typing your post content here...\"\r\n            editorState={editorState}\r\n            wrapperClassName=\"newPost-wrapper\"\r\n            toolbarClassName=\"newPost-toolbar\"\r\n            editorClassName=\"newPost-editor\"\r\n            onEditorStateChange={this.onEditorStateChange}\r\n            handleBeforeInput={this.handleBeforeInput}\r\n            handlePastedText={this.handlePastedText}\r\n          />\r\n          <Button\r\n            color=\"blue\"\r\n            size=\"small\"\r\n            loading={isLoading}\r\n            disabled={isLoading}\r\n            onClick={this.onSubmit}>\r\n            <Icon name=\"write\" />\r\n            Post\r\n          </Button>\r\n        </Form>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, {Component} from 'react';\r\nimport {Segment, Icon} from 'semantic-ui-react';\r\nimport StatusMessage from '../statusmessage';\r\nimport Post from '../post';\r\nimport NewPost from '../newpost';\r\nimport './styles.css';\r\n\r\nexport default class Thread extends Component {\r\n  render() {\r\n    const {\r\n      id,\r\n      isLoading,\r\n      name,\r\n      content,\r\n      pinned,\r\n      creator,\r\n      createdAt,\r\n      posts,\r\n      error,\r\n      isAuthenticated,\r\n      createPost,\r\n      newPostSuccess,\r\n      newPostLoading,\r\n      newPostError,\r\n      authenticatedUsername,\r\n      authenticatedIsStaff,\r\n      deletePostList,\r\n      deletePost,\r\n      isDeleting,\r\n      deleteError,\r\n      deleteThread,\r\n    } = this.props;\r\n\r\n    if (error || deleteError || isLoading || isDeleting || !name) {\r\n      let loadingMessage = 'We are fetching the thread for you';\r\n      if (isDeleting) {\r\n        loadingMessage = 'We are deleting the thread for you';\r\n      }\r\n      return (\r\n        <StatusMessage\r\n          error={error || deleteError || !name} // because a thread name cannot be empty\r\n          errorClassName=\"thread-error\"\r\n          errorMessage={error || deleteError}\r\n          loading={isLoading || isDeleting}\r\n          loadingMessage={loadingMessage}\r\n          nothing={!name}\r\n          nothingMessage={'Thread does not exist'}\r\n          type=\"default\"\r\n        />\r\n      );\r\n    }\r\n\r\n    const threadPost = (\r\n      <Post\r\n        id={id}\r\n        threadID={id}\r\n        isThread={true}\r\n        content={content}\r\n        createdAt={createdAt}\r\n        creator={creator}\r\n        authenticatedUsername={authenticatedUsername}\r\n        authenticatedIsStaff={authenticatedIsStaff}\r\n        deleteAction={deleteThread}\r\n      />\r\n    );\r\n\r\n    const postsList =\r\n      posts.length === 0\r\n        ? null\r\n        : posts.map(post => {\r\n            const {\r\n              id: postID,\r\n              content: postContent,\r\n              created_at: postCreatedAt,\r\n              creator: postCreator,\r\n            } = post;\r\n\r\n            return (\r\n              <Post\r\n                key={postID}\r\n                threadID={id}\r\n                id={postID}\r\n                isThread={false}\r\n                content={postContent}\r\n                createdAt={postCreatedAt}\r\n                creator={postCreator}\r\n                authenticatedUsername={authenticatedUsername}\r\n                authenticatedIsStaff={authenticatedIsStaff}\r\n                deletePostList={deletePostList}\r\n                deleteAction={deletePost}\r\n              />\r\n            );\r\n          });\r\n\r\n    return (\r\n      <div className=\"threadContainer\">\r\n        <div className=\"thread-title\">\r\n          <Icon name={pinned ? 'pin' : 'talk outline'} />\r\n          {name}\r\n        </div>\r\n        <Segment.Group className=\"thread-list\">\r\n          {threadPost}\r\n          {postsList}\r\n        </Segment.Group>\r\n        <NewPost\r\n          isAuthenticated={isAuthenticated}\r\n          threadID={id}\r\n          createPost={createPost}\r\n          success={newPostSuccess}\r\n          isLoading={newPostLoading}\r\n          error={newPostError}\r\n          maxLength={2000}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, {Component} from 'react';\r\nimport {connect} from 'react-redux';\r\nimport {createPost, fetchThread, deletePost, deleteThread} from '../../actions';\r\nimport Thread from '../../components/thread';\r\n\r\nclass ThreadContainer extends Component {\r\n  componentDidMount() {\r\n    const {thread} = this.props.match.params;\r\n    this.props.fetchThread(thread);\r\n  }\r\n\r\n  componentWillReceiveProps(newProps) {\r\n    const {thread} = this.props.match.params;\r\n    const {thread: newThread} = newProps.match.params;\r\n    if (thread !== newThread) {\r\n      this.props.fetchThread(newThread);\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const {thread: threadID} = this.props.match.params;\r\n    const {\r\n      isLoading,\r\n      name,\r\n      content,\r\n      pinned,\r\n      creator,\r\n      createdAt,\r\n      posts,\r\n      error,\r\n      isAuthenticated,\r\n      createPost,\r\n      newPostLoading,\r\n      newPostError,\r\n      newPostSuccess,\r\n      authenticatedUsername,\r\n      authenticatedIsStaff,\r\n      deletePostList,\r\n      deletePost,\r\n      isDeleting,\r\n      deleteError,\r\n      deleteThread,\r\n    } = this.props;\r\n    return (\r\n      <Thread\r\n        id={threadID}\r\n        isLoading={isLoading}\r\n        name={name}\r\n        content={content}\r\n        pinned={pinned}\r\n        creator={creator}\r\n        createdAt={createdAt}\r\n        posts={posts}\r\n        error={error}\r\n        isAuthenticated={isAuthenticated}\r\n        createPost={createPost}\r\n        newPostSuccess={newPostSuccess}\r\n        newPostLoading={newPostLoading}\r\n        newPostError={newPostError}\r\n        authenticatedUsername={authenticatedUsername}\r\n        authenticatedIsStaff={authenticatedIsStaff}\r\n        deletePostList={deletePostList}\r\n        deletePost={deletePost}\r\n        isDeleting={isDeleting}\r\n        deleteError={deleteError}\r\n        deleteThread={deleteThread}\r\n      />\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  isLoading: state.thread.isLoading,\r\n  name: state.thread.name,\r\n  content: state.thread.content,\r\n  pinned: state.thread.pinned,\r\n  creator: state.thread.creator,\r\n  createdAt: state.thread.createdAt,\r\n  posts: state.thread.posts,\r\n  error: state.thread.error,\r\n  isAuthenticated: state.auth.isAuthenticated,\r\n  authenticatedUsername: state.auth.username,\r\n  authenticatedIsStaff: state.auth.isStaff,\r\n  newPostSuccess: state.thread.newPostSuccess,\r\n  newPostLoading: state.thread.newPostLoading,\r\n  newPostError: state.thread.newPostError,\r\n  deletePostList: state.thread.deletePostList,\r\n  isDeleting: state.thread.isDeleting,\r\n  deleteError: state.thread.deleteError,\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n  fetchThread: thread => {\r\n    dispatch(fetchThread(thread));\r\n  },\r\n  createPost: newPost => {\r\n    dispatch(createPost(newPost));\r\n  },\r\n  deletePost: (id, threadID) => {\r\n    dispatch(deletePost(id, threadID));\r\n  },\r\n  deleteThread: id => {\r\n    dispatch(deleteThread(id));\r\n  },\r\n});\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps,\r\n)(ThreadContainer);\r\n","import React, {Component} from 'react';\r\nimport {Link} from 'react-router-dom';\r\nimport {Segment, Grid, Icon} from 'semantic-ui-react';\r\nimport StatusMessage from '../statusmessage';\r\nimport Avatar from '../avatar';\r\nimport './styles.css';\r\n\r\nexport default class ForumList extends Component {\r\n  render() {\r\n    const {isLoading, error, forums} = this.props;\r\n\r\n    if (error || !forums || isLoading || forums.length === 0) {\r\n      return (\r\n        <StatusMessage\r\n          error={error || !forums}\r\n          errorClassName=\"home-error\"\r\n          errorMessage={error}\r\n          loading={isLoading}\r\n          loadingMessage={'We are fetching the homepage for you'}\r\n          nothing={forums && forums.length === 0}\r\n          nothingMessage={'No forum to display'}\r\n          nothingClassName=\"home-error\"\r\n          type=\"default\"\r\n        />\r\n      );\r\n    }\r\n\r\n    const forumCardList = forums.map(forum => {\r\n      const {\r\n        name,\r\n        slug,\r\n        description,\r\n        posts_count,\r\n        threads_count,\r\n        last_activity,\r\n      } = forum;\r\n\r\n      let lastActivity = (\r\n        <div className=\"home-text home-vertical\">{'  No activity '}</div>\r\n      );\r\n\r\n      if (last_activity) {\r\n        let {\r\n          thread_id,\r\n          thread_name,\r\n          username,\r\n          avatar,\r\n          pinned,\r\n          naturaltime,\r\n        } = last_activity;\r\n\r\n        thread_name =\r\n          thread_name.length > 43\r\n            ? thread_name.substring(0, 43) + '...'\r\n            : thread_name;\r\n        lastActivity = (\r\n          <div className=\"home-row\">\r\n            <Avatar\r\n              className=\"home-avatar\"\r\n              avatar={avatar}\r\n              centered={false}\r\n              link={`/user/${username}`}\r\n            />\r\n            <div className=\"home-column\">\r\n              <div>\r\n                <Icon name={pinned ? 'pin' : 'talk outline'} />\r\n                <Link to={`/thread/${thread_id}`}>{thread_name}</Link>\r\n              </div>\r\n              <div className=\"home-meta\">\r\n                <Link to={`/user/${username}`}>\r\n                  <Icon name=\"user\" />\r\n                  {username}\r\n                </Link>\r\n                <b>{`    ${naturaltime}`}</b>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        );\r\n      }\r\n\r\n      return (\r\n        <Segment vertical key={slug}>\r\n          <Grid textAlign=\"left\" padded=\"horizontally\">\r\n            <Grid.Column width={7}>\r\n              <Grid.Row>\r\n                <Icon name=\"edit\" />\r\n                <Link to={`/forum/${slug}`}>{name}</Link>\r\n              </Grid.Row>\r\n              <Grid.Row>{description}</Grid.Row>\r\n            </Grid.Column>\r\n            <Grid.Column width={3}>\r\n              <div className=\"home-column home-stats home-vertical\">\r\n                <div style={{paddingBottom: '5px'}}>\r\n                  <Icon name=\"write\" />\r\n                  {threads_count}\r\n                  {threads_count > 1 ? ' threads' : ' thread'}\r\n                </div>\r\n                <div>\r\n                  <Icon name=\"comment outline\" />\r\n                  {posts_count}\r\n                  {posts_count > 1 ? ' posts' : ' post'}\r\n                </div>\r\n              </div>\r\n            </Grid.Column>\r\n            <Grid.Column width={6}>{lastActivity}</Grid.Column>\r\n          </Grid>\r\n        </Segment>\r\n      );\r\n    });\r\n\r\n    return (\r\n      <div className=\"homeContainer\">\r\n        <Segment.Group className=\"home-list\">{forumCardList}</Segment.Group>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, {Component} from 'react';\r\nimport {connect} from 'react-redux';\r\nimport {fetchForums} from '../../actions';\r\nimport ForumList from '../../components/forumlist';\r\nimport { Document, Page, pdfjs } from \"react-pdf\";\r\nimport resume from './resume.pdf';\r\n\r\n\r\n\r\n\r\n pdfjs.GlobalWorkerOptions.workerSrc = `//cdnjs.cloudflare.com/ajax/libs/pdf.js/${pdfjs.version}/pdf.worker.js`;\r\n\r\nclass HomeContainer extends Component {\r\n\trender() {\r\n\t    return (\r\n\t      <Document\r\n\t\tfile={resume}\r\n\t\tonLoadSuccess={this.onDocumentLoadSuccess}\r\n\t      >\r\n\t\t<Page pageNumber={1} height={1500} />\r\n\t      </Document>\r\n\t    );\r\n\t  }\r\n}\r\n\r\nexport default connect()(HomeContainer);\r\n","import React, {Component} from 'react';\r\nimport {Link} from 'react-router-dom';\r\nimport {Segment, Grid, Icon} from 'semantic-ui-react';\r\nimport StatusMessage from '../statusmessage';\r\nimport Avatar from '../avatar';\r\nimport './styles.css';\r\n\r\nexport default class ThreadList extends Component {\r\n  render() {\r\n    const {isLoading, error, threads} = this.props;\r\n\r\n    if (error || !threads || isLoading || threads.length === 0) {\r\n      return (\r\n        <StatusMessage\r\n          error={error || !threads}\r\n          errorClassName=\"forum-error\"\r\n          errorMessage={error}\r\n          loading={isLoading}\r\n          loadingMessage={`We are fetching the forum for you`}\r\n          nothing={threads && threads.length === 0}\r\n          nothingMessage={`No threads to display`}\r\n          nothingClassName=\"forum-error\"\r\n          type=\"default\"\r\n        />\r\n      );\r\n    }\r\n\r\n    const threadList = threads.map(thread => {\r\n      let {\r\n        id,\r\n        name,\r\n        pinned,\r\n        creator,\r\n        avatar,\r\n        naturaltime,\r\n        replies_count,\r\n        last_activity,\r\n      } = thread;\r\n\r\n      name = name.length > 57 ? name.substring(0, 55) + '...' : name;\r\n\r\n      let lastActivity = last_activity ? (\r\n        <div className=\"forum-row\">\r\n          <Avatar\r\n            className=\"forum-avatar\"\r\n            avatar={last_activity.avatar}\r\n            centered={false}\r\n            link={`/user/${last_activity.username}`}\r\n          />\r\n          <div className=\"forum-column\">\r\n            <div className=\"forum-name\">{last_activity.name}</div>\r\n            <div className=\"forum-meta\">\r\n              <Link to={`/user/${last_activity.username}`}>\r\n                <Icon name=\"user\" />\r\n                {last_activity.username}\r\n              </Link>\r\n              <b>{`    ${last_activity.naturaltime}`}</b>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      ) : (\r\n        <div className=\"forum-text forum-vertical\">{'  No activity '}</div>\r\n      );\r\n\r\n      return (\r\n        <Segment vertical key={id}>\r\n          <Grid textAlign=\"left\" padded=\"horizontally\">\r\n            <Grid.Column width={7}>\r\n              <Grid.Row>\r\n                <div className=\"forum-row\">\r\n                  <Avatar\r\n                    className=\"forum-avatar\"\r\n                    avatar={avatar}\r\n                    centered={false}\r\n                    link={`/user/${creator}`}\r\n                  />\r\n                  <div className=\"forum-column\">\r\n                    <div>\r\n                      <Icon name={pinned ? 'pin' : 'talk outline'} />\r\n                      <Link to={`/thread/${id}`}>{name}</Link>\r\n                    </div>\r\n                    <div className=\"forum-meta\">\r\n                      <Link to={`/user/${creator}`}>\r\n                        <Icon name=\"user\" />\r\n                        {creator}\r\n                      </Link>\r\n                      <b>{`    ${naturaltime}`}</b>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </Grid.Row>\r\n            </Grid.Column>\r\n            <Grid.Column width={3}>\r\n              <div className=\"forum-column forum-stats forum-vertical\">\r\n                <div style={{paddingBottom: '5px'}}>\r\n                  <Icon name=\"comment outline\" />\r\n                  {replies_count}\r\n                  {replies_count > 1 ? ' replies' : ' reply'}\r\n                </div>\r\n              </div>\r\n            </Grid.Column>\r\n            <Grid.Column width={6}>{lastActivity}</Grid.Column>\r\n          </Grid>\r\n        </Segment>\r\n      );\r\n    });\r\n\r\n    return (\r\n      <div className=\"forumContainer\">\r\n        <Segment.Group className=\"forum-list\">{threadList}</Segment.Group>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, {Component} from 'react';\r\nimport {Link} from 'react-router-dom';\r\nimport {getSelectedBlock} from 'draftjs-utils';\r\nimport htmlToDraft from 'html-to-draftjs';\r\nimport {List} from 'immutable';\r\nimport {\r\n  EditorState,\r\n  ContentState,\r\n  convertFromRaw,\r\n  convertToRaw,\r\n  Modifier,\r\n} from 'draft-js';\r\nimport {Form, Icon, Divider, Button} from 'semantic-ui-react';\r\nimport './styles.css';\r\nimport RichEditor from '../richeditor';\r\nimport StatusMessage from '../statusmessage';\r\n\r\nexport default class NewThread extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    const {name, content} = this.props;\r\n    let editorState = this.convertToEditorState(content);\r\n    this.state = {\r\n      name,\r\n      editorState,\r\n    };\r\n  }\r\n\r\n  componentWillReceiveProps(newProps) {\r\n    const {name: newName, content: newContent} = newProps;\r\n    const editorState = this.convertToEditorState(newContent);\r\n    this.setState({\r\n      name: newName,\r\n      editorState,\r\n    });\r\n  }\r\n\r\n  convertToEditorState = content => {\r\n    let editorState = EditorState.createEmpty();\r\n    if (content) {\r\n      try {\r\n        const contentState = convertFromRaw(JSON.parse(content));\r\n        editorState = EditorState.createWithContent(contentState);\r\n      } catch (error) {\r\n        const contentState = ContentState.createFromText(content);\r\n        editorState = EditorState.createWithContent(contentState);\r\n      }\r\n    }\r\n    return editorState;\r\n  };\r\n\r\n  toggleShowEditor = () => {\r\n    this.props.toggleShowEditor();\r\n  };\r\n\r\n  onSave = () => {\r\n    // save to redux store (uncontrolled input way)\r\n    const {name, editorState} = this.state;\r\n    const content = JSON.stringify(\r\n      convertToRaw(editorState.getCurrentContent()),\r\n    );\r\n    this.props.updateNewThread({\r\n      name: name,\r\n      content: content,\r\n    });\r\n    this.toggleShowEditor();\r\n  };\r\n\r\n  onCancel = () => {\r\n    // reset & clear everything\r\n    const editorState = EditorState.createEmpty();\r\n    this.setState({\r\n      name: '',\r\n      editorState,\r\n    });\r\n    const content = JSON.stringify(\r\n      convertToRaw(editorState.getCurrentContent()),\r\n    );\r\n    this.props.updateNewThread({\r\n      name: '',\r\n      content: content,\r\n    });\r\n    this.toggleShowEditor();\r\n  };\r\n\r\n  onNameChange = (e, {value}) => {\r\n    this.setState({\r\n      name: value,\r\n    });\r\n  };\r\n\r\n  onEditorStateChange = editorState => {\r\n    this.setState({\r\n      editorState,\r\n    });\r\n  };\r\n\r\n  isFormValid = () => {\r\n    const {name} = this.state;\r\n    return name;\r\n  };\r\n\r\n  onSubmit = () => {\r\n    if (this.isFormValid()) {\r\n      const {name, editorState} = this.state;\r\n      const {forum, createThread} = this.props;\r\n      const content = JSON.stringify(\r\n        convertToRaw(editorState.getCurrentContent()),\r\n      );\r\n      let newThread = {\r\n        name: name,\r\n        forum: forum,\r\n        content: content,\r\n      };\r\n      createThread(newThread);\r\n    }\r\n  };\r\n\r\n  isValidLength = contentState => {\r\n    const maxLength = this.props.maxLength || 100;\r\n    return contentState.getPlainText('').length <= maxLength;\r\n  };\r\n\r\n  handleBeforeInput = input => {\r\n    const {editorState} = this.state;\r\n    if (!this.isValidLength(editorState.getCurrentContent())) {\r\n      return 'handled';\r\n    }\r\n  };\r\n\r\n  handlePastedText = (text, html, editorState, onChange) => {\r\n    if (html) {\r\n      const contentBlock = htmlToDraft(html);\r\n      let contentState = editorState.getCurrentContent();\r\n      contentBlock.entityMap.forEach((value, key) => {\r\n        contentState = contentState.mergeEntityData(key, value);\r\n      });\r\n      contentState = Modifier.replaceWithFragment(\r\n        contentState,\r\n        editorState.getSelection(),\r\n        new List(contentBlock.contentBlocks),\r\n      );\r\n      if (!this.isValidLength(contentState)) {\r\n        return 'handled';\r\n      }\r\n      onChange(\r\n        EditorState.push(editorState, contentState, 'insert-characters'),\r\n      );\r\n      return true;\r\n    }\r\n    const selectedBlock = getSelectedBlock(editorState);\r\n    const newState = Modifier.replaceText(\r\n      editorState.getCurrentContent(),\r\n      editorState.getSelection(),\r\n      text,\r\n      editorState.getCurrentInlineStyle(),\r\n    );\r\n    if (!this.isValidLength(newState)) {\r\n      return 'handled';\r\n    }\r\n    onChange(EditorState.push(editorState, newState, 'insert-characters'));\r\n    if (selectedBlock && selectedBlock.type === 'code') {\r\n      return true;\r\n    }\r\n    return false;\r\n  };\r\n\r\n  render() {\r\n    const {\r\n      isAuthenticated,\r\n      isLoading,\r\n      success,\r\n      id,\r\n      error,\r\n      showEditor,\r\n    } = this.props;\r\n    const {name, editorState} = this.state;\r\n    if (!isAuthenticated) {\r\n      return <div className=\"newThread-none\" />;\r\n    }\r\n\r\n    const statusMessage = (\r\n      <StatusMessage\r\n        error={error}\r\n        errorClassName=\"newThread-message\"\r\n        errorMessage={error || 'Oops! Something went wrong.'}\r\n        success={success}\r\n        successClassName=\"newThread-message\"\r\n        successMessage={\r\n          <Link to={`/thread/${id}`}>{'Successful on creating thread'}</Link>\r\n        }\r\n        type=\"modal\"\r\n      />\r\n    );\r\n\r\n    if (!showEditor) {\r\n      return (\r\n        <div>\r\n          {statusMessage} {/*this will only show the success message*/}\r\n          <div className=\"newThread-hidden\">\r\n            <Button\r\n              size=\"small\"\r\n              color=\"blue\"\r\n              floated=\"left\"\r\n              onClick={this.toggleShowEditor}>\r\n              <Icon name=\"edit\" />\r\n              New Thread\r\n            </Button>\r\n          </div>\r\n        </div>\r\n      );\r\n    }\r\n\r\n    return (\r\n      <div className=\"newThread-show\">\r\n        {statusMessage}\r\n        <Form loading={isLoading} className=\"attached fluid segment\">\r\n          <Form.Input\r\n            required\r\n            fluid\r\n            transparent\r\n            icon=\"edit\"\r\n            iconPosition=\"left\"\r\n            size=\"big\"\r\n            placeholder=\"Name\"\r\n            type=\"text\"\r\n            name=\"name\"\r\n            value={name}\r\n            onChange={this.onNameChange}\r\n          />\r\n          <Divider />\r\n          <RichEditor\r\n            placeholder=\"Start typing your thread content here...\"\r\n            editorState={editorState}\r\n            wrapperClassName=\"newThread-wrapper\"\r\n            toolbarClassName=\"newThread-toolbar\"\r\n            editorClassName=\"newThread-editor\"\r\n            onEditorStateChange={this.onEditorStateChange}\r\n            handleBeforeInput={this.handleBeforeInput}\r\n            handlePastedText={this.handlePastedText}\r\n          />\r\n          <Button\r\n            color=\"blue\"\r\n            size=\"small\"\r\n            loading={isLoading}\r\n            disabled={isLoading}\r\n            onClick={this.onSubmit}>\r\n            <Icon name=\"edit\" />\r\n            Post thread\r\n          </Button>\r\n          <Button\r\n            color=\"red\"\r\n            role=\"none\"\r\n            size=\"small\"\r\n            disabled={isLoading}\r\n            onClick={this.onSave}>\r\n            <Icon name=\"save\" />\r\n            Save Draft\r\n          </Button>\r\n          <Button\r\n            role=\"none\"\r\n            size=\"small\"\r\n            disabled={isLoading}\r\n            onClick={this.onCancel}>\r\n            <Icon name=\"cancel\" />\r\n            Clear\r\n          </Button>\r\n        </Form>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, {Component} from 'react';\r\nimport {connect} from 'react-redux';\r\nimport {\r\n  createThreadSave,\r\n  createThreadToggle,\r\n  fetchForum,\r\n  createThread,\r\n} from '../../actions';\r\nimport ThreadList from '../../components/threadlist';\r\nimport NewThread from '../../components/newthread';\r\n\r\nclass ForumContainer extends Component {\r\n  componentDidMount() {\r\n    const {forum} = this.props.match.params;\r\n    this.props.fetchForum(forum);\r\n  }\r\n\r\n  componentWillReceiveProps(newProps) {\r\n    const {forum: oldForum} = this.props.match.params;\r\n    const {forum: futureForum} = newProps.match.params;\r\n    if (oldForum !== futureForum) {\r\n      this.props.fetchForum(futureForum);\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      isLoading,\r\n      name,\r\n      slug,\r\n      description,\r\n      threads,\r\n      error,\r\n      isAuthenticated,\r\n      newThreadLoading,\r\n      newThreadSuccess,\r\n      newThreadName,\r\n      newThreadContent,\r\n      newThreadId,\r\n      newThreadError,\r\n      newThreadShow,\r\n      createThread,\r\n      createThreadSave,\r\n      createThreadToggle,\r\n    } = this.props;\r\n    return (\r\n      <div>\r\n        <NewThread\r\n          forum={slug}\r\n          isAuthenticated={isAuthenticated}\r\n          isLoading={newThreadLoading}\r\n          success={newThreadSuccess}\r\n          name={newThreadName}\r\n          content={newThreadContent}\r\n          id={newThreadId}\r\n          error={newThreadError}\r\n          showEditor={newThreadShow}\r\n          createThread={createThread}\r\n          updateNewThread={createThreadSave}\r\n          toggleShowEditor={createThreadToggle}\r\n          maxLength={2000}\r\n        />\r\n        <ThreadList\r\n          isLoading={isLoading}\r\n          name={name}\r\n          slug={slug}\r\n          description={description}\r\n          threads={threads}\r\n          error={error}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  isLoading: state.forum.isLoading,\r\n  name: state.forum.name,\r\n  slug: state.forum.slug,\r\n  description: state.forum.description,\r\n  threads: state.forum.threads,\r\n  error: state.forum.error,\r\n  isAuthenticated: state.auth.isAuthenticated,\r\n  newThreadLoading: state.forum.newThreadLoading,\r\n  newThreadSuccess: state.forum.newThreadSuccess,\r\n  newThreadName: state.forum.newThreadName,\r\n  newThreadContent: state.forum.newThreadContent,\r\n  newThreadId: state.forum.newThreadId,\r\n  newThreadError: state.forum.newThreadError,\r\n  newThreadShow: state.forum.newThreadShow,\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n  fetchForum: forum => {\r\n    dispatch(fetchForum(forum));\r\n  },\r\n  createThread: newThread => {\r\n    dispatch(createThread(newThread));\r\n  },\r\n  createThreadSave: newThread => {\r\n    dispatch(createThreadSave(newThread));\r\n  },\r\n  createThreadToggle: () => {\r\n    dispatch(createThreadToggle());\r\n  },\r\n});\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps,\r\n)(ForumContainer);\r\n","import React, {Component} from 'react';\r\nimport {Message, Image} from 'semantic-ui-react';\r\nimport './styles.css';\r\n\r\nclass NotFoundPage extends Component {\r\n  render() {\r\n    return (\r\n      <div>\r\n        <div className=\"not-found-page\">\r\n          <Message>\r\n            <Message.Content>\r\n              <Message.Header>404 - Page Not Found</Message.Header>\r\n              Sorry, but the page you were trying to view does not exist.\r\n            </Message.Content>\r\n          </Message>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nexport default NotFoundPage;\r\n","// In production, we register a service worker to serve assets from local cache.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on the \"N+1\" visit to a page, since previously\n// cached resources are updated in the background.\n\n// To learn more about the benefits of this model, read https://goo.gl/KwvDNy.\n// This link also includes instructions on opting out of this behavior.\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/,\n    ),\n);\n\nexport default function register() {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebookincubator/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Lets check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://goo.gl/SC7cgQ',\n          );\n        });\n      } else {\n        // Is not local host. Just register service worker\n        registerValidSW(swUrl);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the old content will have been purged and\n              // the fresh content will have been added to the cache.\n              // It's the perfect time to display a \"New content is\n              // available; please refresh.\" message in your web app.\n              console.log('New content is available; please refresh.');\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      if (\n        response.status === 404 ||\n        response.headers.get('content-type').indexOf('javascript') === -1\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.',\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React, {Fragment} from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport 'semantic-ui-css/semantic.min.css';\nimport {Provider} from 'react-redux';\nimport {BrowserRouter, Switch, Route} from 'react-router-dom';\nimport {PersistGate} from 'redux-persist/integration/react';\nimport Loader from './components/loader';\nimport store, {persistor} from './store';\nimport HeaderContainer from './containers/header';\nimport ModalContainer from './containers/modal';\nimport UserProfileContainer from './containers/userprofile';\nimport UsersContainer from './containers/users';\nimport ThreadContainer from './containers/thread';\nimport HomeContainer from './containers/home';\nimport ForumContainer from './containers/forum';\nimport NotFoundPage from './components/notfoundpage';\nimport registerServiceWorker from './registerServiceWorker';\n\nReactDOM.render(\n  <Provider store={store}>\n    <PersistGate loading={<Loader />} persistor={persistor}>\n      <BrowserRouter>\n        <Fragment>\n          <header className=\"header-background\" />\n          <div className=\"app-layout\">\n            <HeaderContainer />\n            <Switch>\n              <Route path=\"/user/:username\" component={UserProfileContainer} />\n              <Route exact path=\"/\" component={HomeContainer} />\n              <Route component={NotFoundPage} />\n            </Switch>\n          </div>\n          <ModalContainer />\n        </Fragment>\n      </BrowserRouter>\n    </PersistGate>\n  </Provider>,\n  document.getElementById('root'),\n);\nregisterServiceWorker();\n"],"sourceRoot":""}