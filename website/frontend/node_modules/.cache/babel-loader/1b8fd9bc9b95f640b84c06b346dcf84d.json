{"ast":null,"code":"import React,{Component}from'react';import{Link}from'react-router-dom';import{Segment,Grid,Icon,Dropdown}from'semantic-ui-react';import RichEditor from'../richeditor';import Avatar from'../avatar';import'./styles.css';export default class Post extends Component{constructor(...args){super(...args);this.onDelete=()=>{const _this$props=this.props,deleteAction=_this$props.deleteAction,id=_this$props.id,threadID=_this$props.threadID,isThread=_this$props.isThread;if(isThread){deleteAction(threadID);}else{deleteAction(id,threadID);}};}render(){const _this$props2=this.props,id=_this$props2.id,isThread=_this$props2.isThread,content=_this$props2.content,createdAt=_this$props2.createdAt,creator=_this$props2.creator,authenticatedUsername=_this$props2.authenticatedUsername,authenticatedIsStaff=_this$props2.authenticatedIsStaff,deletePostList=_this$props2.deletePostList;const color=isThread?'black':null;const deleteText=isThread?'Delete Thread':'Delete Post';const actions=React.createElement(\"div\",{className:\"post-dropdown\"},React.createElement(Dropdown,{simple:true,icon:\"caret down\",direction:\"left\"},React.createElement(Dropdown.Menu,null,React.createElement(Dropdown.Item,{onClick:this.onDelete,icon:\"delete\",text:deleteText}))));const isLoading=!isThread&&deletePostList.indexOf(id)>=0;return React.createElement(Segment,{loading:isLoading,color:color},React.createElement(Grid,{textAlign:\"left\",padded:\"horizontally\"},React.createElement(Grid.Column,{width:4},React.createElement(Grid.Row,null,React.createElement(\"div\",{className:\"post-row\"},React.createElement(Avatar,{className:\"post-avatar\",avatar:creator.avatar,centered:false,link:\"/user/\".concat(creator.username)}),React.createElement(\"div\",{className:\"post-column\"},React.createElement(\"div\",{className:\"post-name\"},creator.name),React.createElement(\"div\",{className:\"post-username\"},React.createElement(Link,{to:\"/user/\".concat(creator.username)},React.createElement(Icon,{name:\"user\"}),creator.username)),React.createElement(\"div\",{className:\"post-status\"},creator.status||'Member'))))),React.createElement(Grid.Column,{width:12},React.createElement(\"div\",{className:\"post-time\"},createdAt,(authenticatedIsStaff||authenticatedUsername===creator.username)&&actions),React.createElement(RichEditor,{readOnly:true,content:content,wrapperClassName:false?'post-wrapper-edit':'post-wrapper-read',editorClassName:\"post-editor\",toolbarClassName:\"post-toolbar\"}))));}}","map":{"version":3,"sources":["/home/yi/Desktop/rengorum/frontend/src/components/post/index.js"],"names":["React","Component","Link","Segment","Grid","Icon","Dropdown","RichEditor","Avatar","Post","onDelete","props","deleteAction","id","threadID","isThread","render","content","createdAt","creator","authenticatedUsername","authenticatedIsStaff","deletePostList","color","deleteText","actions","isLoading","indexOf","avatar","username","name","status"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\r\nimport {Link} from 'react-router-dom';\r\nimport {Segment, Grid, Icon, Dropdown} from 'semantic-ui-react';\r\nimport RichEditor from '../richeditor';\r\nimport Avatar from '../avatar';\r\nimport './styles.css';\r\n\r\nexport default class Post extends Component {\r\n  onDelete = () => {\r\n    const {deleteAction, id, threadID, isThread} = this.props;\r\n    if (isThread) {\r\n      deleteAction(threadID);\r\n    } else {\r\n      deleteAction(id, threadID);\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const {\r\n      id,\r\n      isThread,\r\n      content,\r\n      createdAt,\r\n      creator,\r\n      authenticatedUsername,\r\n      authenticatedIsStaff,\r\n      deletePostList,\r\n    } = this.props;\r\n\r\n    const color = isThread ? 'black' : null;\r\n    const deleteText = isThread ? 'Delete Thread' : 'Delete Post';\r\n    const actions = (\r\n      <div className=\"post-dropdown\">\r\n        <Dropdown simple icon=\"caret down\" direction=\"left\">\r\n          <Dropdown.Menu>\r\n            <Dropdown.Item\r\n              onClick={this.onDelete}\r\n              icon=\"delete\"\r\n              text={deleteText}\r\n            />\r\n          </Dropdown.Menu>\r\n        </Dropdown>\r\n      </div>\r\n    );\r\n    const isLoading = !isThread && deletePostList.indexOf(id) >= 0;\r\n    return (\r\n      <Segment loading={isLoading} color={color}>\r\n        <Grid textAlign=\"left\" padded=\"horizontally\">\r\n          <Grid.Column width={4}>\r\n            <Grid.Row>\r\n              <div className=\"post-row\">\r\n                <Avatar\r\n                  className=\"post-avatar\"\r\n                  avatar={creator.avatar}\r\n                  centered={false}\r\n                  link={`/user/${creator.username}`}\r\n                />\r\n                <div className=\"post-column\">\r\n                  <div className=\"post-name\">{creator.name}</div>\r\n                  <div className=\"post-username\">\r\n                    <Link to={`/user/${creator.username}`}>\r\n                      <Icon name=\"user\" />\r\n                      {creator.username}\r\n                    </Link>\r\n                  </div>\r\n                  <div className=\"post-status\">\r\n                    {creator.status || 'Member'}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </Grid.Row>\r\n          </Grid.Column>\r\n          <Grid.Column width={12}>\r\n            <div className=\"post-time\">\r\n              {createdAt}\r\n              {(authenticatedIsStaff ||\r\n                authenticatedUsername === creator.username) &&\r\n                actions}\r\n            </div>\r\n            <RichEditor\r\n              readOnly={true}\r\n              content={content}\r\n              wrapperClassName={\r\n                false ? 'post-wrapper-edit' : 'post-wrapper-read'\r\n              }\r\n              editorClassName=\"post-editor\"\r\n              toolbarClassName=\"post-toolbar\"\r\n            />\r\n          </Grid.Column>\r\n        </Grid>\r\n      </Segment>\r\n    );\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}