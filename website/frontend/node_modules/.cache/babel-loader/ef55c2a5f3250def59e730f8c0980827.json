{"ast":null,"code":"import React,{Component}from'react';import{Link}from'react-router-dom';import{Segment,Grid,Icon}from'semantic-ui-react';import StatusMessage from'../statusmessage';import Avatar from'../avatar';import'./styles.css';export default class ThreadList extends Component{render(){const _this$props=this.props,isLoading=_this$props.isLoading,error=_this$props.error,threads=_this$props.threads;if(error||!threads||isLoading||threads.length===0){return React.createElement(StatusMessage,{error:error||!threads,errorClassName:\"forum-error\",errorMessage:error,loading:isLoading,loadingMessage:\"We are fetching the forum for you\",nothing:threads&&threads.length===0,nothingMessage:\"No threads to display\",nothingClassName:\"forum-error\",type:\"default\"});}const threadList=threads.map(thread=>{let id=thread.id,name=thread.name,pinned=thread.pinned,creator=thread.creator,avatar=thread.avatar,naturaltime=thread.naturaltime,replies_count=thread.replies_count,last_activity=thread.last_activity;name=name.length>57?name.substring(0,55)+'...':name;let lastActivity=last_activity?React.createElement(\"div\",{className:\"forum-row\"},React.createElement(Avatar,{className:\"forum-avatar\",avatar:last_activity.avatar,centered:false,link:\"/user/\".concat(last_activity.username)}),React.createElement(\"div\",{className:\"forum-column\"},React.createElement(\"div\",{className:\"forum-name\"},last_activity.name),React.createElement(\"div\",{className:\"forum-meta\"},React.createElement(Link,{to:\"/user/\".concat(last_activity.username)},React.createElement(Icon,{name:\"user\"}),last_activity.username),React.createElement(\"b\",null,\"  \\u2014  \".concat(last_activity.naturaltime))))):React.createElement(\"div\",{className:\"forum-text forum-vertical\"},'—  No activity —');return React.createElement(Segment,{vertical:true,key:id},React.createElement(Grid,{textAlign:\"left\",padded:\"horizontally\"},React.createElement(Grid.Column,{width:7},React.createElement(Grid.Row,null,React.createElement(\"div\",{className:\"forum-row\"},React.createElement(Avatar,{className:\"forum-avatar\",avatar:avatar,centered:false,link:\"/user/\".concat(creator)}),React.createElement(\"div\",{className:\"forum-column\"},React.createElement(\"div\",null,React.createElement(Icon,{name:pinned?'pin':'talk outline'}),React.createElement(Link,{to:\"/thread/\".concat(id)},name)),React.createElement(\"div\",{className:\"forum-meta\"},React.createElement(Link,{to:\"/user/\".concat(creator)},React.createElement(Icon,{name:\"user\"}),creator),React.createElement(\"b\",null,\"  \\u2014  \".concat(naturaltime))))))),React.createElement(Grid.Column,{width:3},React.createElement(\"div\",{className:\"forum-column forum-stats forum-vertical\"},React.createElement(\"div\",{style:{paddingBottom:'5px'}},React.createElement(Icon,{name:\"comment outline\"}),replies_count,replies_count>1?' replies':' reply'))),React.createElement(Grid.Column,{width:6},lastActivity)));});return React.createElement(\"div\",{className:\"forumContainer\"},React.createElement(Segment.Group,{className:\"forum-list\"},threadList));}}","map":{"version":3,"sources":["/home/yi/Desktop/rengorum/frontend/src/components/threadlist/index.js"],"names":["React","Component","Link","Segment","Grid","Icon","StatusMessage","Avatar","ThreadList","render","props","isLoading","error","threads","length","threadList","map","thread","id","name","pinned","creator","avatar","naturaltime","replies_count","last_activity","substring","lastActivity","username","paddingBottom"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\r\nimport {Link} from 'react-router-dom';\r\nimport {Segment, Grid, Icon} from 'semantic-ui-react';\r\nimport StatusMessage from '../statusmessage';\r\nimport Avatar from '../avatar';\r\nimport './styles.css';\r\n\r\nexport default class ThreadList extends Component {\r\n  render() {\r\n    const {isLoading, error, threads} = this.props;\r\n\r\n    if (error || !threads || isLoading || threads.length === 0) {\r\n      return (\r\n        <StatusMessage\r\n          error={error || !threads}\r\n          errorClassName=\"forum-error\"\r\n          errorMessage={error}\r\n          loading={isLoading}\r\n          loadingMessage={`We are fetching the forum for you`}\r\n          nothing={threads && threads.length === 0}\r\n          nothingMessage={`No threads to display`}\r\n          nothingClassName=\"forum-error\"\r\n          type=\"default\"\r\n        />\r\n      );\r\n    }\r\n\r\n    const threadList = threads.map(thread => {\r\n      let {\r\n        id,\r\n        name,\r\n        pinned,\r\n        creator,\r\n        avatar,\r\n        naturaltime,\r\n        replies_count,\r\n        last_activity,\r\n      } = thread;\r\n\r\n      name = name.length > 57 ? name.substring(0, 55) + '...' : name;\r\n\r\n      let lastActivity = last_activity ? (\r\n        <div className=\"forum-row\">\r\n          <Avatar\r\n            className=\"forum-avatar\"\r\n            avatar={last_activity.avatar}\r\n            centered={false}\r\n            link={`/user/${last_activity.username}`}\r\n          />\r\n          <div className=\"forum-column\">\r\n            <div className=\"forum-name\">{last_activity.name}</div>\r\n            <div className=\"forum-meta\">\r\n              <Link to={`/user/${last_activity.username}`}>\r\n                <Icon name=\"user\" />\r\n                {last_activity.username}\r\n              </Link>\r\n              <b>{`  —  ${last_activity.naturaltime}`}</b>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      ) : (\r\n        <div className=\"forum-text forum-vertical\">{'—  No activity —'}</div>\r\n      );\r\n\r\n      return (\r\n        <Segment vertical key={id}>\r\n          <Grid textAlign=\"left\" padded=\"horizontally\">\r\n            <Grid.Column width={7}>\r\n              <Grid.Row>\r\n                <div className=\"forum-row\">\r\n                  <Avatar\r\n                    className=\"forum-avatar\"\r\n                    avatar={avatar}\r\n                    centered={false}\r\n                    link={`/user/${creator}`}\r\n                  />\r\n                  <div className=\"forum-column\">\r\n                    <div>\r\n                      <Icon name={pinned ? 'pin' : 'talk outline'} />\r\n                      <Link to={`/thread/${id}`}>{name}</Link>\r\n                    </div>\r\n                    <div className=\"forum-meta\">\r\n                      <Link to={`/user/${creator}`}>\r\n                        <Icon name=\"user\" />\r\n                        {creator}\r\n                      </Link>\r\n                      <b>{`  —  ${naturaltime}`}</b>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </Grid.Row>\r\n            </Grid.Column>\r\n            <Grid.Column width={3}>\r\n              <div className=\"forum-column forum-stats forum-vertical\">\r\n                <div style={{paddingBottom: '5px'}}>\r\n                  <Icon name=\"comment outline\" />\r\n                  {replies_count}\r\n                  {replies_count > 1 ? ' replies' : ' reply'}\r\n                </div>\r\n              </div>\r\n            </Grid.Column>\r\n            <Grid.Column width={6}>{lastActivity}</Grid.Column>\r\n          </Grid>\r\n        </Segment>\r\n      );\r\n    });\r\n\r\n    return (\r\n      <div className=\"forumContainer\">\r\n        <Segment.Group className=\"forum-list\">{threadList}</Segment.Group>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}