{"ast":null,"code":"import React,{Component}from'react';import{connect}from'react-redux';import{fetchUserProfile as _fetchUserProfile}from'../../actions';import StatusMessage from'../../components/statusmessage';import Profile from'../../components/profile';import'./styles.css';class UserProfileContainer extends Component{componentDidMount(){const username=this.props.match.params.username;this.props.fetchUserProfile(username);}componentWillReceiveProps(newProps){const oldUsername=this.props.match.params.username;const futureUsername=newProps.match.params.username;if(oldUsername!==futureUsername){this.props.fetchUserProfile(futureUsername);}}render(){const _this$props=this.props,isLoading=_this$props.isLoading,error=_this$props.error,profile=_this$props.profile;if(error||!profile||isLoading){return React.createElement(StatusMessage,{error:error||!profile,errorClassName:\"userProfile-error\",errorMessage:error,loading:isLoading,loadingMessage:\"We are fetching the user profile for you\",type:\"default\"});}const name=profile.name,username=profile.username,status=profile.status,bio=profile.bio,avatar=profile.avatar,is_staff=profile.is_staff,date_joined=profile.date_joined;return React.createElement(Profile,{username:username,name:name,avatar:avatar,status:status,bio:bio,dateJoined:date_joined,isStaff:is_staff});}}const mapStateToProps=state=>({isLoading:state.userProfile.isLoading,profile:state.userProfile.profile,error:state.userProfile.error});const mapDispatchToProps=dispatch=>({fetchUserProfile:username=>{dispatch(_fetchUserProfile(username));}});export default connect(mapStateToProps,mapDispatchToProps)(UserProfileContainer);","map":{"version":3,"sources":["/home/yi/Desktop/rengorum/frontend/src/containers/userprofile/index.js"],"names":["React","Component","connect","fetchUserProfile","StatusMessage","Profile","UserProfileContainer","componentDidMount","username","props","match","params","componentWillReceiveProps","newProps","oldUsername","futureUsername","render","isLoading","error","profile","name","status","bio","avatar","is_staff","date_joined","mapStateToProps","state","userProfile","mapDispatchToProps","dispatch"],"mappings":"AAAA,MAAOA,CAAAA,KAAP,EAAeC,SAAf,KAA+B,OAA/B,CACA,OAAQC,OAAR,KAAsB,aAAtB,CACA,OAAQC,gBAAgB,GAAhBA,CAAAA,iBAAR,KAA+B,eAA/B,CACA,MAAOC,CAAAA,aAAP,KAA0B,gCAA1B,CACA,MAAOC,CAAAA,OAAP,KAAoB,0BAApB,CACA,MAAO,cAAP,CAEA,KAAMC,CAAAA,oBAAN,QAAmCL,CAAAA,SAAU,CAC3CM,iBAAiB,EAAG,MACXC,CAAAA,QADW,CACC,KAAKC,KAAL,CAAWC,KAAX,CAAiBC,MADlB,CACXH,QADW,CAElB,KAAKC,KAAL,CAAWN,gBAAX,CAA4BK,QAA5B,EACD,CAEDI,yBAAyB,CAACC,QAAD,CAAW,MACjBC,CAAAA,WADiB,CACF,KAAKL,KAAL,CAAWC,KAAX,CAAiBC,MADf,CAC3BH,QAD2B,MAEjBO,CAAAA,cAFiB,CAECF,QAAQ,CAACH,KAAT,CAAeC,MAFhB,CAE3BH,QAF2B,CAGlC,GAAIM,WAAW,GAAKC,cAApB,CAAoC,CAClC,KAAKN,KAAL,CAAWN,gBAAX,CAA4BY,cAA5B,EACD,CACF,CAEDC,MAAM,EAAG,mBAC6B,KAAKP,KADlC,CACAQ,SADA,aACAA,SADA,CACWC,KADX,aACWA,KADX,CACkBC,OADlB,aACkBA,OADlB,CAGP,GAAID,KAAK,EAAI,CAACC,OAAV,EAAqBF,SAAzB,CAAoC,CAClC,MACE,qBAAC,aAAD,EACE,KAAK,CAAEC,KAAK,EAAI,CAACC,OADnB,CAEE,cAAc,CAAC,mBAFjB,CAGE,YAAY,CAAED,KAHhB,CAIE,OAAO,CAAED,SAJX,CAKE,cAAc,2CALhB,CAME,IAAI,CAAC,SANP,EADF,CAUD,CAdM,KAiBLG,CAAAA,IAjBK,CAwBHD,OAxBG,CAiBLC,IAjBK,CAkBLZ,QAlBK,CAwBHW,OAxBG,CAkBLX,QAlBK,CAmBLa,MAnBK,CAwBHF,OAxBG,CAmBLE,MAnBK,CAoBLC,GApBK,CAwBHH,OAxBG,CAoBLG,GApBK,CAqBLC,MArBK,CAwBHJ,OAxBG,CAqBLI,MArBK,CAsBLC,QAtBK,CAwBHL,OAxBG,CAsBLK,QAtBK,CAuBLC,WAvBK,CAwBHN,OAxBG,CAuBLM,WAvBK,CA0BP,MACE,qBAAC,OAAD,EACE,QAAQ,CAAEjB,QADZ,CAEE,IAAI,CAAEY,IAFR,CAGE,MAAM,CAAEG,MAHV,CAIE,MAAM,CAAEF,MAJV,CAKE,GAAG,CAAEC,GALP,CAME,UAAU,CAAEG,WANd,CAOE,OAAO,CAAED,QAPX,EADF,CAWD,CAnD0C,CAsD7C,KAAME,CAAAA,eAAe,CAAGC,KAAK,GAAK,CAChCV,SAAS,CAAEU,KAAK,CAACC,WAAN,CAAkBX,SADG,CAEhCE,OAAO,CAAEQ,KAAK,CAACC,WAAN,CAAkBT,OAFK,CAGhCD,KAAK,CAAES,KAAK,CAACC,WAAN,CAAkBV,KAHO,CAAL,CAA7B,CAMA,KAAMW,CAAAA,kBAAkB,CAAGC,QAAQ,GAAK,CACtC3B,gBAAgB,CAAEK,QAAQ,EAAI,CAC5BsB,QAAQ,CAAC3B,iBAAgB,CAACK,QAAD,CAAjB,CAAR,CACD,CAHqC,CAAL,CAAnC,CAMA,cAAeN,CAAAA,OAAO,CACpBwB,eADoB,CAEpBG,kBAFoB,CAAP,CAGbvB,oBAHa,CAAf","sourcesContent":["import React, {Component} from 'react';\r\nimport {connect} from 'react-redux';\r\nimport {fetchUserProfile} from '../../actions';\r\nimport StatusMessage from '../../components/statusmessage';\r\nimport Profile from '../../components/profile';\r\nimport './styles.css';\r\n\r\nclass UserProfileContainer extends Component {\r\n  componentDidMount() {\r\n    const {username} = this.props.match.params;\r\n    this.props.fetchUserProfile(username);\r\n  }\r\n\r\n  componentWillReceiveProps(newProps) {\r\n    const {username: oldUsername} = this.props.match.params;\r\n    const {username: futureUsername} = newProps.match.params;\r\n    if (oldUsername !== futureUsername) {\r\n      this.props.fetchUserProfile(futureUsername);\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const {isLoading, error, profile} = this.props;\r\n\r\n    if (error || !profile || isLoading) {\r\n      return (\r\n        <StatusMessage\r\n          error={error || !profile}\r\n          errorClassName=\"userProfile-error\"\r\n          errorMessage={error}\r\n          loading={isLoading}\r\n          loadingMessage={`We are fetching the user profile for you`}\r\n          type=\"default\"\r\n        />\r\n      );\r\n    }\r\n\r\n    const {\r\n      name,\r\n      username,\r\n      status,\r\n      bio,\r\n      avatar,\r\n      is_staff,\r\n      date_joined,\r\n    } = profile;\r\n\r\n    return (\r\n      <Profile\r\n        username={username}\r\n        name={name}\r\n        avatar={avatar}\r\n        status={status}\r\n        bio={bio}\r\n        dateJoined={date_joined}\r\n        isStaff={is_staff}\r\n      />\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  isLoading: state.userProfile.isLoading,\r\n  profile: state.userProfile.profile,\r\n  error: state.userProfile.error,\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n  fetchUserProfile: username => {\r\n    dispatch(fetchUserProfile(username));\r\n  },\r\n});\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps,\r\n)(UserProfileContainer);\r\n"]},"metadata":{},"sourceType":"module"}