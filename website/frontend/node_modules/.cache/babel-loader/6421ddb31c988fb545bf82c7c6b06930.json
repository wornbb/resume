{"ast":null,"code":"import _objectSpread from\"/home/yi/Desktop/rengorum/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import{LOGIN_REQUEST,LOGIN_SUCCESS,LOGIN_FAILURE,LOGIN_RESET,EDIT_PROFILE_REQUEST,EDIT_PROFILE_SUCCESS,EDIT_PROFILE_FAILURE,EDIT_PROFILE_RESET,LOGOUT}from'../actions/types';const loginInitialState={isLoading:false,isAuthenticated:false,username:null,name:null,avatar:null,token:null,isStaff:false,error:null};const editInitialState={isEditing:false,editError:null,editSuccess:false};const initialState=_objectSpread({},loginInitialState,{},editInitialState);const auth=(state=initialState,action)=>{switch(action.type){case LOGIN_REQUEST:return _objectSpread({},state,{isLoading:true,isAuthenticated:false,error:null});case LOGIN_SUCCESS:return _objectSpread({},state,{isLoading:false,isAuthenticated:true,token:action.token,username:action.username,avatar:action.avatar,name:action.name,isStaff:action.isStaff,error:null});case LOGIN_FAILURE:return _objectSpread({},state,{},loginInitialState,{error:action.error});case EDIT_PROFILE_REQUEST:return _objectSpread({},state,{isEditing:true,editError:null,editSuccess:false});case EDIT_PROFILE_SUCCESS:return _objectSpread({},state,{isEditing:false,editError:null,editSuccess:true,avatar:action.avatar||state.avatar,name:action.name||state.name});case EDIT_PROFILE_FAILURE:return _objectSpread({},state,{},editInitialState,{editError:action.error});case EDIT_PROFILE_RESET:return _objectSpread({},state,{},editInitialState);case LOGIN_RESET:return _objectSpread({},state,{},loginInitialState);case LOGOUT:return initialState;default:return state;}};export default auth;","map":{"version":3,"sources":["/home/yi/Desktop/rengorum/frontend/src/reducers/auth.js"],"names":["LOGIN_REQUEST","LOGIN_SUCCESS","LOGIN_FAILURE","LOGIN_RESET","EDIT_PROFILE_REQUEST","EDIT_PROFILE_SUCCESS","EDIT_PROFILE_FAILURE","EDIT_PROFILE_RESET","LOGOUT","loginInitialState","isLoading","isAuthenticated","username","name","avatar","token","isStaff","error","editInitialState","isEditing","editError","editSuccess","initialState","auth","state","action","type"],"mappings":"wJAAA,OACEA,aADF,CAEEC,aAFF,CAGEC,aAHF,CAIEC,WAJF,CAKEC,oBALF,CAMEC,oBANF,CAOEC,oBAPF,CAQEC,kBARF,CASEC,MATF,KAUO,kBAVP,CAYA,KAAMC,CAAAA,iBAAiB,CAAG,CACxBC,SAAS,CAAE,KADa,CAExBC,eAAe,CAAE,KAFO,CAGxBC,QAAQ,CAAE,IAHc,CAIxBC,IAAI,CAAE,IAJkB,CAKxBC,MAAM,CAAE,IALgB,CAMxBC,KAAK,CAAE,IANiB,CAOxBC,OAAO,CAAE,KAPe,CAQxBC,KAAK,CAAE,IARiB,CAA1B,CAWA,KAAMC,CAAAA,gBAAgB,CAAG,CACvBC,SAAS,CAAE,KADY,CAEvBC,SAAS,CAAE,IAFY,CAGvBC,WAAW,CAAE,KAHU,CAAzB,CAMA,KAAMC,CAAAA,YAAY,kBACbb,iBADa,IAEbS,gBAFa,CAAlB,CAKA,KAAMK,CAAAA,IAAI,CAAG,CAACC,KAAK,CAAGF,YAAT,CAAuBG,MAAvB,GAAkC,CAC7C,OAAQA,MAAM,CAACC,IAAf,EACE,IAAK1B,CAAAA,aAAL,CACE,wBACKwB,KADL,EAEEd,SAAS,CAAE,IAFb,CAGEC,eAAe,CAAE,KAHnB,CAIEM,KAAK,CAAE,IAJT,GAMF,IAAKhB,CAAAA,aAAL,CACE,wBACKuB,KADL,EAEEd,SAAS,CAAE,KAFb,CAGEC,eAAe,CAAE,IAHnB,CAIEI,KAAK,CAAEU,MAAM,CAACV,KAJhB,CAKEH,QAAQ,CAAEa,MAAM,CAACb,QALnB,CAMEE,MAAM,CAAEW,MAAM,CAACX,MANjB,CAOED,IAAI,CAAEY,MAAM,CAACZ,IAPf,CAQEG,OAAO,CAAES,MAAM,CAACT,OARlB,CASEC,KAAK,CAAE,IATT,GAWF,IAAKf,CAAAA,aAAL,CACE,wBACKsB,KADL,IAEKf,iBAFL,EAGEQ,KAAK,CAAEQ,MAAM,CAACR,KAHhB,GAKF,IAAKb,CAAAA,oBAAL,CACE,wBACKoB,KADL,EAEEL,SAAS,CAAE,IAFb,CAGEC,SAAS,CAAE,IAHb,CAIEC,WAAW,CAAE,KAJf,GAMF,IAAKhB,CAAAA,oBAAL,CACE,wBACKmB,KADL,EAEEL,SAAS,CAAE,KAFb,CAGEC,SAAS,CAAE,IAHb,CAIEC,WAAW,CAAE,IAJf,CAKEP,MAAM,CAAEW,MAAM,CAACX,MAAP,EAAiBU,KAAK,CAACV,MALjC,CAMED,IAAI,CAAEY,MAAM,CAACZ,IAAP,EAAeW,KAAK,CAACX,IAN7B,GAQF,IAAKP,CAAAA,oBAAL,CACE,wBACKkB,KADL,IAEKN,gBAFL,EAGEE,SAAS,CAAEK,MAAM,CAACR,KAHpB,GAKF,IAAKV,CAAAA,kBAAL,CACE,wBACKiB,KADL,IAEKN,gBAFL,EAIF,IAAKf,CAAAA,WAAL,CACE,wBACKqB,KADL,IAEKf,iBAFL,EAIF,IAAKD,CAAAA,MAAL,CACE,MAAOc,CAAAA,YAAP,CACF,QACE,MAAOE,CAAAA,KAAP,CA7DJ,CA+DD,CAhED,CAkEA,cAAeD,CAAAA,IAAf","sourcesContent":["import {\r\n  LOGIN_REQUEST,\r\n  LOGIN_SUCCESS,\r\n  LOGIN_FAILURE,\r\n  LOGIN_RESET,\r\n  EDIT_PROFILE_REQUEST,\r\n  EDIT_PROFILE_SUCCESS,\r\n  EDIT_PROFILE_FAILURE,\r\n  EDIT_PROFILE_RESET,\r\n  LOGOUT,\r\n} from '../actions/types';\r\n\r\nconst loginInitialState = {\r\n  isLoading: false,\r\n  isAuthenticated: false,\r\n  username: null,\r\n  name: null,\r\n  avatar: null,\r\n  token: null,\r\n  isStaff: false,\r\n  error: null,\r\n};\r\n\r\nconst editInitialState = {\r\n  isEditing: false,\r\n  editError: null,\r\n  editSuccess: false,\r\n};\r\n\r\nconst initialState = {\r\n  ...loginInitialState,\r\n  ...editInitialState,\r\n};\r\n\r\nconst auth = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case LOGIN_REQUEST:\r\n      return {\r\n        ...state,\r\n        isLoading: true,\r\n        isAuthenticated: false,\r\n        error: null,\r\n      };\r\n    case LOGIN_SUCCESS:\r\n      return {\r\n        ...state,\r\n        isLoading: false,\r\n        isAuthenticated: true,\r\n        token: action.token,\r\n        username: action.username,\r\n        avatar: action.avatar,\r\n        name: action.name,\r\n        isStaff: action.isStaff,\r\n        error: null,\r\n      };\r\n    case LOGIN_FAILURE:\r\n      return {\r\n        ...state,\r\n        ...loginInitialState,\r\n        error: action.error,\r\n      };\r\n    case EDIT_PROFILE_REQUEST:\r\n      return {\r\n        ...state,\r\n        isEditing: true,\r\n        editError: null,\r\n        editSuccess: false,\r\n      };\r\n    case EDIT_PROFILE_SUCCESS:\r\n      return {\r\n        ...state,\r\n        isEditing: false,\r\n        editError: null,\r\n        editSuccess: true,\r\n        avatar: action.avatar || state.avatar,\r\n        name: action.name || state.name,\r\n      };\r\n    case EDIT_PROFILE_FAILURE:\r\n      return {\r\n        ...state,\r\n        ...editInitialState,\r\n        editError: action.error,\r\n      };\r\n    case EDIT_PROFILE_RESET:\r\n      return {\r\n        ...state,\r\n        ...editInitialState,\r\n      };\r\n    case LOGIN_RESET:\r\n      return {\r\n        ...state,\r\n        ...loginInitialState,\r\n      };\r\n    case LOGOUT:\r\n      return initialState;\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default auth;\r\n"]},"metadata":{},"sourceType":"module"}