{"ast":null,"code":"import React,{Component}from'react';import{connect}from'react-redux';import{createPost as _createPost,fetchThread as _fetchThread,deletePost as _deletePost,deleteThread as _deleteThread}from'../../actions';import Thread from'../../components/thread';class ThreadContainer extends Component{componentDidMount(){const thread=this.props.match.params.thread;this.props.fetchThread(thread);}componentWillReceiveProps(newProps){const thread=this.props.match.params.thread;const newThread=newProps.match.params.thread;if(thread!==newThread){this.props.fetchThread(newThread);}}render(){const threadID=this.props.match.params.thread;const _this$props=this.props,isLoading=_this$props.isLoading,name=_this$props.name,content=_this$props.content,pinned=_this$props.pinned,creator=_this$props.creator,createdAt=_this$props.createdAt,posts=_this$props.posts,error=_this$props.error,isAuthenticated=_this$props.isAuthenticated,createPost=_this$props.createPost,newPostLoading=_this$props.newPostLoading,newPostError=_this$props.newPostError,newPostSuccess=_this$props.newPostSuccess,authenticatedUsername=_this$props.authenticatedUsername,authenticatedIsStaff=_this$props.authenticatedIsStaff,deletePostList=_this$props.deletePostList,deletePost=_this$props.deletePost,isDeleting=_this$props.isDeleting,deleteError=_this$props.deleteError,deleteThread=_this$props.deleteThread;return React.createElement(Thread,{id:threadID,isLoading:isLoading,name:name,content:content,pinned:pinned,creator:creator,createdAt:createdAt,posts:posts,error:error,isAuthenticated:isAuthenticated,createPost:createPost,newPostSuccess:newPostSuccess,newPostLoading:newPostLoading,newPostError:newPostError,authenticatedUsername:authenticatedUsername,authenticatedIsStaff:authenticatedIsStaff,deletePostList:deletePostList,deletePost:deletePost,isDeleting:isDeleting,deleteError:deleteError,deleteThread:deleteThread});}}const mapStateToProps=state=>({isLoading:state.thread.isLoading,name:state.thread.name,content:state.thread.content,pinned:state.thread.pinned,creator:state.thread.creator,createdAt:state.thread.createdAt,posts:state.thread.posts,error:state.thread.error,isAuthenticated:state.auth.isAuthenticated,authenticatedUsername:state.auth.username,authenticatedIsStaff:state.auth.isStaff,newPostSuccess:state.thread.newPostSuccess,newPostLoading:state.thread.newPostLoading,newPostError:state.thread.newPostError,deletePostList:state.thread.deletePostList,isDeleting:state.thread.isDeleting,deleteError:state.thread.deleteError});const mapDispatchToProps=dispatch=>({fetchThread:thread=>{dispatch(_fetchThread(thread));},createPost:newPost=>{dispatch(_createPost(newPost));},deletePost:(id,threadID)=>{dispatch(_deletePost(id,threadID));},deleteThread:id=>{dispatch(_deleteThread(id));}});export default connect(mapStateToProps,mapDispatchToProps)(ThreadContainer);","map":{"version":3,"sources":["/home/yi/Desktop/rengorum/frontend/src/containers/thread/index.js"],"names":["React","Component","connect","createPost","fetchThread","deletePost","deleteThread","Thread","ThreadContainer","componentDidMount","thread","props","match","params","componentWillReceiveProps","newProps","newThread","render","threadID","isLoading","name","content","pinned","creator","createdAt","posts","error","isAuthenticated","newPostLoading","newPostError","newPostSuccess","authenticatedUsername","authenticatedIsStaff","deletePostList","isDeleting","deleteError","mapStateToProps","state","auth","username","isStaff","mapDispatchToProps","dispatch","newPost","id"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\r\nimport {connect} from 'react-redux';\r\nimport {createPost, fetchThread, deletePost, deleteThread} from '../../actions';\r\nimport Thread from '../../components/thread';\r\n\r\nclass ThreadContainer extends Component {\r\n  componentDidMount() {\r\n    const {thread} = this.props.match.params;\r\n    this.props.fetchThread(thread);\r\n  }\r\n\r\n  componentWillReceiveProps(newProps) {\r\n    const {thread} = this.props.match.params;\r\n    const {thread: newThread} = newProps.match.params;\r\n    if (thread !== newThread) {\r\n      this.props.fetchThread(newThread);\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const {thread: threadID} = this.props.match.params;\r\n    const {\r\n      isLoading,\r\n      name,\r\n      content,\r\n      pinned,\r\n      creator,\r\n      createdAt,\r\n      posts,\r\n      error,\r\n      isAuthenticated,\r\n      createPost,\r\n      newPostLoading,\r\n      newPostError,\r\n      newPostSuccess,\r\n      authenticatedUsername,\r\n      authenticatedIsStaff,\r\n      deletePostList,\r\n      deletePost,\r\n      isDeleting,\r\n      deleteError,\r\n      deleteThread,\r\n    } = this.props;\r\n    return (\r\n      <Thread\r\n        id={threadID}\r\n        isLoading={isLoading}\r\n        name={name}\r\n        content={content}\r\n        pinned={pinned}\r\n        creator={creator}\r\n        createdAt={createdAt}\r\n        posts={posts}\r\n        error={error}\r\n        isAuthenticated={isAuthenticated}\r\n        createPost={createPost}\r\n        newPostSuccess={newPostSuccess}\r\n        newPostLoading={newPostLoading}\r\n        newPostError={newPostError}\r\n        authenticatedUsername={authenticatedUsername}\r\n        authenticatedIsStaff={authenticatedIsStaff}\r\n        deletePostList={deletePostList}\r\n        deletePost={deletePost}\r\n        isDeleting={isDeleting}\r\n        deleteError={deleteError}\r\n        deleteThread={deleteThread}\r\n      />\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  isLoading: state.thread.isLoading,\r\n  name: state.thread.name,\r\n  content: state.thread.content,\r\n  pinned: state.thread.pinned,\r\n  creator: state.thread.creator,\r\n  createdAt: state.thread.createdAt,\r\n  posts: state.thread.posts,\r\n  error: state.thread.error,\r\n  isAuthenticated: state.auth.isAuthenticated,\r\n  authenticatedUsername: state.auth.username,\r\n  authenticatedIsStaff: state.auth.isStaff,\r\n  newPostSuccess: state.thread.newPostSuccess,\r\n  newPostLoading: state.thread.newPostLoading,\r\n  newPostError: state.thread.newPostError,\r\n  deletePostList: state.thread.deletePostList,\r\n  isDeleting: state.thread.isDeleting,\r\n  deleteError: state.thread.deleteError,\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n  fetchThread: thread => {\r\n    dispatch(fetchThread(thread));\r\n  },\r\n  createPost: newPost => {\r\n    dispatch(createPost(newPost));\r\n  },\r\n  deletePost: (id, threadID) => {\r\n    dispatch(deletePost(id, threadID));\r\n  },\r\n  deleteThread: id => {\r\n    dispatch(deleteThread(id));\r\n  },\r\n});\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps,\r\n)(ThreadContainer);\r\n"]},"metadata":{},"sourceType":"module"}