{"ast":null,"code":"import React,{Component}from'react';import{Link}from'react-router-dom';import{Segment,Grid,Icon}from'semantic-ui-react';import StatusMessage from'../statusmessage';import Avatar from'../avatar';import'./styles.css';export default class ForumList extends Component{render(){const _this$props=this.props,isLoading=_this$props.isLoading,error=_this$props.error,forums=_this$props.forums;if(error||!forums||isLoading||forums.length===0){return React.createElement(StatusMessage,{error:error||!forums,errorClassName:\"home-error\",errorMessage:error,loading:isLoading,loadingMessage:'We are fetching the homepage for you',nothing:forums&&forums.length===0,nothingMessage:'No forum to display',nothingClassName:\"home-error\",type:\"default\"});}const forumCardList=forums.map(forum=>{const name=forum.name,slug=forum.slug,description=forum.description,posts_count=forum.posts_count,threads_count=forum.threads_count,last_activity=forum.last_activity;let lastActivity=React.createElement(\"div\",{className:\"home-text home-vertical\"},'—  No activity —');if(last_activity){let thread_id=last_activity.thread_id,thread_name=last_activity.thread_name,username=last_activity.username,avatar=last_activity.avatar,pinned=last_activity.pinned,naturaltime=last_activity.naturaltime;thread_name=thread_name.length>43?thread_name.substring(0,43)+'...':thread_name;lastActivity=React.createElement(\"div\",{className:\"home-row\"},React.createElement(Avatar,{className:\"home-avatar\",avatar:avatar,centered:false,link:\"/user/\".concat(username)}),React.createElement(\"div\",{className:\"home-column\"},React.createElement(\"div\",null,React.createElement(Icon,{name:pinned?'pin':'talk outline'}),React.createElement(Link,{to:\"/thread/\".concat(thread_id)},thread_name)),React.createElement(\"div\",{className:\"home-meta\"},React.createElement(Link,{to:\"/user/\".concat(username)},React.createElement(Icon,{name:\"user\"}),username),React.createElement(\"b\",null,\"  \\u2014  \".concat(naturaltime)))));}return React.createElement(Segment,{vertical:true,key:slug},React.createElement(Grid,{textAlign:\"left\",padded:\"horizontally\"},React.createElement(Grid.Column,{width:7},React.createElement(Grid.Row,null,React.createElement(Icon,{name:\"edit\"}),React.createElement(Link,{to:\"/forum/\".concat(slug)},name)),React.createElement(Grid.Row,null,description)),React.createElement(Grid.Column,{width:3},React.createElement(\"div\",{className:\"home-column home-stats home-vertical\"},React.createElement(\"div\",{style:{paddingBottom:'5px'}},React.createElement(Icon,{name:\"write\"}),threads_count,threads_count>1?' threads':' thread'),React.createElement(\"div\",null,React.createElement(Icon,{name:\"comment outline\"}),posts_count,posts_count>1?' posts':' post'))),React.createElement(Grid.Column,{width:6},lastActivity)));});return React.createElement(\"div\",{className:\"homeContainer\"},React.createElement(Segment.Group,{className:\"home-list\"},forumCardList));}}","map":{"version":3,"sources":["/home/yi/Desktop/rengorum/frontend/src/components/forumlist/index.js"],"names":["React","Component","Link","Segment","Grid","Icon","StatusMessage","Avatar","ForumList","render","props","isLoading","error","forums","length","forumCardList","map","forum","name","slug","description","posts_count","threads_count","last_activity","lastActivity","thread_id","thread_name","username","avatar","pinned","naturaltime","substring","paddingBottom"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\r\nimport {Link} from 'react-router-dom';\r\nimport {Segment, Grid, Icon} from 'semantic-ui-react';\r\nimport StatusMessage from '../statusmessage';\r\nimport Avatar from '../avatar';\r\nimport './styles.css';\r\n\r\nexport default class ForumList extends Component {\r\n  render() {\r\n    const {isLoading, error, forums} = this.props;\r\n\r\n    if (error || !forums || isLoading || forums.length === 0) {\r\n      return (\r\n        <StatusMessage\r\n          error={error || !forums}\r\n          errorClassName=\"home-error\"\r\n          errorMessage={error}\r\n          loading={isLoading}\r\n          loadingMessage={'We are fetching the homepage for you'}\r\n          nothing={forums && forums.length === 0}\r\n          nothingMessage={'No forum to display'}\r\n          nothingClassName=\"home-error\"\r\n          type=\"default\"\r\n        />\r\n      );\r\n    }\r\n\r\n    const forumCardList = forums.map(forum => {\r\n      const {\r\n        name,\r\n        slug,\r\n        description,\r\n        posts_count,\r\n        threads_count,\r\n        last_activity,\r\n      } = forum;\r\n\r\n      let lastActivity = (\r\n        <div className=\"home-text home-vertical\">{'—  No activity —'}</div>\r\n      );\r\n\r\n      if (last_activity) {\r\n        let {\r\n          thread_id,\r\n          thread_name,\r\n          username,\r\n          avatar,\r\n          pinned,\r\n          naturaltime,\r\n        } = last_activity;\r\n\r\n        thread_name =\r\n          thread_name.length > 43\r\n            ? thread_name.substring(0, 43) + '...'\r\n            : thread_name;\r\n        lastActivity = (\r\n          <div className=\"home-row\">\r\n            <Avatar\r\n              className=\"home-avatar\"\r\n              avatar={avatar}\r\n              centered={false}\r\n              link={`/user/${username}`}\r\n            />\r\n            <div className=\"home-column\">\r\n              <div>\r\n                <Icon name={pinned ? 'pin' : 'talk outline'} />\r\n                <Link to={`/thread/${thread_id}`}>{thread_name}</Link>\r\n              </div>\r\n              <div className=\"home-meta\">\r\n                <Link to={`/user/${username}`}>\r\n                  <Icon name=\"user\" />\r\n                  {username}\r\n                </Link>\r\n                <b>{`  —  ${naturaltime}`}</b>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        );\r\n      }\r\n\r\n      return (\r\n        <Segment vertical key={slug}>\r\n          <Grid textAlign=\"left\" padded=\"horizontally\">\r\n            <Grid.Column width={7}>\r\n              <Grid.Row>\r\n                <Icon name=\"edit\" />\r\n                <Link to={`/forum/${slug}`}>{name}</Link>\r\n              </Grid.Row>\r\n              <Grid.Row>{description}</Grid.Row>\r\n            </Grid.Column>\r\n            <Grid.Column width={3}>\r\n              <div className=\"home-column home-stats home-vertical\">\r\n                <div style={{paddingBottom: '5px'}}>\r\n                  <Icon name=\"write\" />\r\n                  {threads_count}\r\n                  {threads_count > 1 ? ' threads' : ' thread'}\r\n                </div>\r\n                <div>\r\n                  <Icon name=\"comment outline\" />\r\n                  {posts_count}\r\n                  {posts_count > 1 ? ' posts' : ' post'}\r\n                </div>\r\n              </div>\r\n            </Grid.Column>\r\n            <Grid.Column width={6}>{lastActivity}</Grid.Column>\r\n          </Grid>\r\n        </Segment>\r\n      );\r\n    });\r\n\r\n    return (\r\n      <div className=\"homeContainer\">\r\n        <Segment.Group className=\"home-list\">{forumCardList}</Segment.Group>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}