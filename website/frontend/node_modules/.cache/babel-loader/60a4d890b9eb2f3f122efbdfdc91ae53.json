{"ast":null,"code":"import React,{Component}from'react';import{Segment,Icon}from'semantic-ui-react';import StatusMessage from'../statusmessage';import Post from'../post';import NewPost from'../newpost';import'./styles.css';export default class Thread extends Component{render(){const _this$props=this.props,id=_this$props.id,isLoading=_this$props.isLoading,name=_this$props.name,content=_this$props.content,pinned=_this$props.pinned,creator=_this$props.creator,createdAt=_this$props.createdAt,posts=_this$props.posts,error=_this$props.error,isAuthenticated=_this$props.isAuthenticated,createPost=_this$props.createPost,newPostSuccess=_this$props.newPostSuccess,newPostLoading=_this$props.newPostLoading,newPostError=_this$props.newPostError,authenticatedUsername=_this$props.authenticatedUsername,authenticatedIsStaff=_this$props.authenticatedIsStaff,deletePostList=_this$props.deletePostList,deletePost=_this$props.deletePost,isDeleting=_this$props.isDeleting,deleteError=_this$props.deleteError,deleteThread=_this$props.deleteThread;if(error||deleteError||isLoading||isDeleting||!name){let loadingMessage='We are fetching the thread for you';if(isDeleting){loadingMessage='We are deleting the thread for you';}return React.createElement(StatusMessage,{error:error||deleteError||!name// because a thread name cannot be empty\n,errorClassName:\"thread-error\",errorMessage:error||deleteError,loading:isLoading||isDeleting,loadingMessage:loadingMessage,nothing:!name,nothingMessage:'Thread does not exist',type:\"default\"});}const threadPost=React.createElement(Post,{id:id,threadID:id,isThread:true,content:content,createdAt:createdAt,creator:creator,authenticatedUsername:authenticatedUsername,authenticatedIsStaff:authenticatedIsStaff,deleteAction:deleteThread});const postsList=posts.length===0?null:posts.map(post=>{const postID=post.id,postContent=post.content,postCreatedAt=post.created_at,postCreator=post.creator;return React.createElement(Post,{key:postID,threadID:id,id:postID,isThread:false,content:postContent,createdAt:postCreatedAt,creator:postCreator,authenticatedUsername:authenticatedUsername,authenticatedIsStaff:authenticatedIsStaff,deletePostList:deletePostList,deleteAction:deletePost});});return React.createElement(\"div\",{className:\"threadContainer\"},React.createElement(\"div\",{className:\"thread-title\"},React.createElement(Icon,{name:pinned?'pin':'talk outline'}),name),React.createElement(Segment.Group,{className:\"thread-list\"},threadPost,postsList),React.createElement(NewPost,{isAuthenticated:isAuthenticated,threadID:id,createPost:createPost,success:newPostSuccess,isLoading:newPostLoading,error:newPostError,maxLength:2000}));}}","map":{"version":3,"sources":["/home/yi/Desktop/rengorum/frontend/src/components/thread/index.js"],"names":["React","Component","Segment","Icon","StatusMessage","Post","NewPost","Thread","render","props","id","isLoading","name","content","pinned","creator","createdAt","posts","error","isAuthenticated","createPost","newPostSuccess","newPostLoading","newPostError","authenticatedUsername","authenticatedIsStaff","deletePostList","deletePost","isDeleting","deleteError","deleteThread","loadingMessage","threadPost","postsList","length","map","post","postID","postContent","postCreatedAt","created_at","postCreator"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\r\nimport {Segment, Icon} from 'semantic-ui-react';\r\nimport StatusMessage from '../statusmessage';\r\nimport Post from '../post';\r\nimport NewPost from '../newpost';\r\nimport './styles.css';\r\n\r\nexport default class Thread extends Component {\r\n  render() {\r\n    const {\r\n      id,\r\n      isLoading,\r\n      name,\r\n      content,\r\n      pinned,\r\n      creator,\r\n      createdAt,\r\n      posts,\r\n      error,\r\n      isAuthenticated,\r\n      createPost,\r\n      newPostSuccess,\r\n      newPostLoading,\r\n      newPostError,\r\n      authenticatedUsername,\r\n      authenticatedIsStaff,\r\n      deletePostList,\r\n      deletePost,\r\n      isDeleting,\r\n      deleteError,\r\n      deleteThread,\r\n    } = this.props;\r\n\r\n    if (error || deleteError || isLoading || isDeleting || !name) {\r\n      let loadingMessage = 'We are fetching the thread for you';\r\n      if (isDeleting) {\r\n        loadingMessage = 'We are deleting the thread for you';\r\n      }\r\n      return (\r\n        <StatusMessage\r\n          error={error || deleteError || !name} // because a thread name cannot be empty\r\n          errorClassName=\"thread-error\"\r\n          errorMessage={error || deleteError}\r\n          loading={isLoading || isDeleting}\r\n          loadingMessage={loadingMessage}\r\n          nothing={!name}\r\n          nothingMessage={'Thread does not exist'}\r\n          type=\"default\"\r\n        />\r\n      );\r\n    }\r\n\r\n    const threadPost = (\r\n      <Post\r\n        id={id}\r\n        threadID={id}\r\n        isThread={true}\r\n        content={content}\r\n        createdAt={createdAt}\r\n        creator={creator}\r\n        authenticatedUsername={authenticatedUsername}\r\n        authenticatedIsStaff={authenticatedIsStaff}\r\n        deleteAction={deleteThread}\r\n      />\r\n    );\r\n\r\n    const postsList =\r\n      posts.length === 0\r\n        ? null\r\n        : posts.map(post => {\r\n            const {\r\n              id: postID,\r\n              content: postContent,\r\n              created_at: postCreatedAt,\r\n              creator: postCreator,\r\n            } = post;\r\n\r\n            return (\r\n              <Post\r\n                key={postID}\r\n                threadID={id}\r\n                id={postID}\r\n                isThread={false}\r\n                content={postContent}\r\n                createdAt={postCreatedAt}\r\n                creator={postCreator}\r\n                authenticatedUsername={authenticatedUsername}\r\n                authenticatedIsStaff={authenticatedIsStaff}\r\n                deletePostList={deletePostList}\r\n                deleteAction={deletePost}\r\n              />\r\n            );\r\n          });\r\n\r\n    return (\r\n      <div className=\"threadContainer\">\r\n        <div className=\"thread-title\">\r\n          <Icon name={pinned ? 'pin' : 'talk outline'} />\r\n          {name}\r\n        </div>\r\n        <Segment.Group className=\"thread-list\">\r\n          {threadPost}\r\n          {postsList}\r\n        </Segment.Group>\r\n        <NewPost\r\n          isAuthenticated={isAuthenticated}\r\n          threadID={id}\r\n          createPost={createPost}\r\n          success={newPostSuccess}\r\n          isLoading={newPostLoading}\r\n          error={newPostError}\r\n          maxLength={2000}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}