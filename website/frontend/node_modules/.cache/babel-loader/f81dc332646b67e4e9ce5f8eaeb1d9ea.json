{"ast":null,"code":"import { FETCH_THREAD_REQUEST, FETCH_THREAD_SUCCESS, FETCH_THREAD_FAILURE, CREATE_THREAD_REQUEST, CREATE_THREAD_SUCCESS, CREATE_THREAD_FAILURE, CREATE_THREAD_SAVE, CREATE_THREAD_TOGGLE, DELETE_THREAD_REQUEST, DELETE_THREAD_SUCCESS, DELETE_THREAD_FAILURE } from './types';\nimport { fetchThreadApi, createThreadApi, fetchForumApi, deleteThreadApi } from '../api';\nimport { fetchForumSuccess, fetchForumFailure } from './forum';\nimport { apiErrorHandler } from '../utils/errorhandler';\nexport const fetchThread = thread => dispatch => {\n  dispatch(fetchThreadRequest());\n  fetchThreadApi(thread).then(response => {\n    dispatch(fetchThreadSuccess(response.data));\n  }).catch(error => {\n    const errorMessage = apiErrorHandler(error);\n    dispatch(fetchThreadFailure(errorMessage));\n  });\n};\nexport const fetchThreadRequest = () => {\n  return {\n    type: FETCH_THREAD_REQUEST\n  };\n};\nexport const fetchThreadSuccess = thread => {\n  return {\n    type: FETCH_THREAD_SUCCESS,\n    thread\n  };\n};\nexport const fetchThreadFailure = error => {\n  return {\n    type: FETCH_THREAD_FAILURE,\n    error\n  };\n};\nexport const createThread = newThread => dispatch => {\n  dispatch(createThreadRequest(newThread));\n  createThreadApi(newThread).then(response => {\n    dispatch(createThreadSuccess(response.data)); // re-load forum page\n\n    fetchForumApi(newThread.forum).then(response => {\n      dispatch(fetchForumSuccess(response.data));\n    }).catch(error => {\n      const errorMessage = apiErrorHandler(error);\n      dispatch(fetchForumFailure(errorMessage));\n    });\n  }).catch(error => {\n    const errorMessage = apiErrorHandler(error);\n    dispatch(createThreadFailure(errorMessage));\n  });\n};\nexport const createThreadRequest = newThread => {\n  return {\n    type: CREATE_THREAD_REQUEST,\n    newThread\n  };\n};\nexport const createThreadSuccess = newThread => {\n  return {\n    type: CREATE_THREAD_SUCCESS,\n    newThread\n  };\n};\nexport const createThreadFailure = error => {\n  return {\n    type: CREATE_THREAD_FAILURE,\n    error\n  };\n};\nexport const createThreadSave = newThread => {\n  return {\n    type: CREATE_THREAD_SAVE,\n    name: newThread.name,\n    content: newThread.content\n  };\n};\nexport const createThreadToggle = () => {\n  return {\n    type: CREATE_THREAD_TOGGLE\n  };\n};\nexport const deleteThread = id => dispatch => {\n  dispatch(deleteThreadRequest());\n  deleteThreadApi(id).then(response => {\n    dispatch(deleteThreadSuccess()); // re-load thread page\n\n    fetchThreadApi(id).then(response => {\n      dispatch(fetchThreadSuccess(response.data));\n    }).catch(error => {\n      const errorMessage = apiErrorHandler(error);\n      dispatch(fetchThreadFailure(errorMessage));\n    });\n  }).catch(error => {\n    const errorMessage = apiErrorHandler(error);\n    dispatch(deleteThreadFailure(errorMessage));\n  });\n};\nexport const deleteThreadRequest = () => {\n  return {\n    type: DELETE_THREAD_REQUEST\n  };\n};\nexport const deleteThreadSuccess = () => {\n  return {\n    type: DELETE_THREAD_SUCCESS\n  };\n};\nexport const deleteThreadFailure = error => {\n  return {\n    type: DELETE_THREAD_FAILURE,\n    error\n  };\n};","map":{"version":3,"sources":["/home/yi/Desktop/rengorum/frontend/src/actions/thread.js"],"names":["FETCH_THREAD_REQUEST","FETCH_THREAD_SUCCESS","FETCH_THREAD_FAILURE","CREATE_THREAD_REQUEST","CREATE_THREAD_SUCCESS","CREATE_THREAD_FAILURE","CREATE_THREAD_SAVE","CREATE_THREAD_TOGGLE","DELETE_THREAD_REQUEST","DELETE_THREAD_SUCCESS","DELETE_THREAD_FAILURE","fetchThreadApi","createThreadApi","fetchForumApi","deleteThreadApi","fetchForumSuccess","fetchForumFailure","apiErrorHandler","fetchThread","thread","dispatch","fetchThreadRequest","then","response","fetchThreadSuccess","data","catch","error","errorMessage","fetchThreadFailure","type","createThread","newThread","createThreadRequest","createThreadSuccess","forum","createThreadFailure","createThreadSave","name","content","createThreadToggle","deleteThread","id","deleteThreadRequest","deleteThreadSuccess","deleteThreadFailure"],"mappings":"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","sourcesContent":["import {\r\n  FETCH_THREAD_REQUEST,\r\n  FETCH_THREAD_SUCCESS,\r\n  FETCH_THREAD_FAILURE,\r\n  CREATE_THREAD_REQUEST,\r\n  CREATE_THREAD_SUCCESS,\r\n  CREATE_THREAD_FAILURE,\r\n  CREATE_THREAD_SAVE,\r\n  CREATE_THREAD_TOGGLE,\r\n  DELETE_THREAD_REQUEST,\r\n  DELETE_THREAD_SUCCESS,\r\n  DELETE_THREAD_FAILURE,\r\n} from './types';\r\nimport {\r\n  fetchThreadApi,\r\n  createThreadApi,\r\n  fetchForumApi,\r\n  deleteThreadApi,\r\n} from '../api';\r\nimport {fetchForumSuccess, fetchForumFailure} from './forum';\r\nimport {apiErrorHandler} from '../utils/errorhandler';\r\n\r\nexport const fetchThread = thread => dispatch => {\r\n  dispatch(fetchThreadRequest());\r\n\r\n  fetchThreadApi(thread)\r\n    .then(response => {\r\n      dispatch(fetchThreadSuccess(response.data));\r\n    })\r\n    .catch(error => {\r\n      const errorMessage = apiErrorHandler(error);\r\n      dispatch(fetchThreadFailure(errorMessage));\r\n    });\r\n};\r\n\r\nexport const fetchThreadRequest = () => {\r\n  return {\r\n    type: FETCH_THREAD_REQUEST,\r\n  };\r\n};\r\n\r\nexport const fetchThreadSuccess = thread => {\r\n  return {\r\n    type: FETCH_THREAD_SUCCESS,\r\n    thread,\r\n  };\r\n};\r\n\r\nexport const fetchThreadFailure = error => {\r\n  return {\r\n    type: FETCH_THREAD_FAILURE,\r\n    error,\r\n  };\r\n};\r\n\r\nexport const createThread = newThread => dispatch => {\r\n  dispatch(createThreadRequest(newThread));\r\n\r\n  createThreadApi(newThread)\r\n    .then(response => {\r\n      dispatch(createThreadSuccess(response.data));\r\n\r\n      // re-load forum page\r\n      fetchForumApi(newThread.forum)\r\n        .then(response => {\r\n          dispatch(fetchForumSuccess(response.data));\r\n        })\r\n        .catch(error => {\r\n          const errorMessage = apiErrorHandler(error);\r\n          dispatch(fetchForumFailure(errorMessage));\r\n        });\r\n    })\r\n    .catch(error => {\r\n      const errorMessage = apiErrorHandler(error);\r\n      dispatch(createThreadFailure(errorMessage));\r\n    });\r\n};\r\n\r\nexport const createThreadRequest = newThread => {\r\n  return {\r\n    type: CREATE_THREAD_REQUEST,\r\n    newThread,\r\n  };\r\n};\r\n\r\nexport const createThreadSuccess = newThread => {\r\n  return {\r\n    type: CREATE_THREAD_SUCCESS,\r\n    newThread,\r\n  };\r\n};\r\n\r\nexport const createThreadFailure = error => {\r\n  return {\r\n    type: CREATE_THREAD_FAILURE,\r\n    error,\r\n  };\r\n};\r\n\r\nexport const createThreadSave = newThread => {\r\n  return {\r\n    type: CREATE_THREAD_SAVE,\r\n    name: newThread.name,\r\n    content: newThread.content,\r\n  };\r\n};\r\n\r\nexport const createThreadToggle = () => {\r\n  return {\r\n    type: CREATE_THREAD_TOGGLE,\r\n  };\r\n};\r\n\r\nexport const deleteThread = id => dispatch => {\r\n  dispatch(deleteThreadRequest());\r\n\r\n  deleteThreadApi(id)\r\n    .then(response => {\r\n      dispatch(deleteThreadSuccess());\r\n\r\n      // re-load thread page\r\n      fetchThreadApi(id)\r\n        .then(response => {\r\n          dispatch(fetchThreadSuccess(response.data));\r\n        })\r\n        .catch(error => {\r\n          const errorMessage = apiErrorHandler(error);\r\n          dispatch(fetchThreadFailure(errorMessage));\r\n        });\r\n    })\r\n    .catch(error => {\r\n      const errorMessage = apiErrorHandler(error);\r\n      dispatch(deleteThreadFailure(errorMessage));\r\n    });\r\n};\r\n\r\nexport const deleteThreadRequest = () => {\r\n  return {\r\n    type: DELETE_THREAD_REQUEST,\r\n  };\r\n};\r\n\r\nexport const deleteThreadSuccess = () => {\r\n  return {\r\n    type: DELETE_THREAD_SUCCESS,\r\n  };\r\n};\r\n\r\nexport const deleteThreadFailure = error => {\r\n  return {\r\n    type: DELETE_THREAD_FAILURE,\r\n    error,\r\n  };\r\n};\r\n"]},"metadata":{},"sourceType":"module"}