{"ast":null,"code":"import _classCallCheck from \"/home/yi/Desktop/rengorum/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/yi/Desktop/rengorum/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/yi/Desktop/rengorum/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/yi/Desktop/rengorum/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/yi/Desktop/rengorum/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/yi/Desktop/rengorum/frontend/src/components/forumlist/index.js\";\nimport React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport { Segment, Grid, Icon } from 'semantic-ui-react';\nimport StatusMessage from '../statusmessage';\nimport Avatar from '../avatar';\nimport './styles.css';\n\nvar ForumList =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(ForumList, _Component);\n\n  function ForumList() {\n    _classCallCheck(this, ForumList);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(ForumList).apply(this, arguments));\n  }\n\n  _createClass(ForumList, [{\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          isLoading = _this$props.isLoading,\n          error = _this$props.error,\n          forums = _this$props.forums;\n\n      if (error || !forums || isLoading || forums.length === 0) {\n        return React.createElement(StatusMessage, {\n          error: error || !forums,\n          errorClassName: \"home-error\",\n          errorMessage: error,\n          loading: isLoading,\n          loadingMessage: 'We are fetching the homepage for you',\n          nothing: forums && forums.length === 0,\n          nothingMessage: 'No forum to display',\n          nothingClassName: \"home-error\",\n          type: \"default\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 14\n          },\n          __self: this\n        });\n      }\n\n      var forumCardList = forums.map(function (forum) {\n        var name = forum.name,\n            slug = forum.slug,\n            description = forum.description,\n            posts_count = forum.posts_count,\n            threads_count = forum.threads_count,\n            last_activity = forum.last_activity;\n        var lastActivity = React.createElement(\"div\", {\n          className: \"home-text home-vertical\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 39\n          },\n          __self: this\n        }, '—  No activity —');\n\n        if (last_activity) {\n          var thread_id = last_activity.thread_id,\n              thread_name = last_activity.thread_name,\n              username = last_activity.username,\n              avatar = last_activity.avatar,\n              pinned = last_activity.pinned,\n              naturaltime = last_activity.naturaltime;\n          thread_name = thread_name.length > 43 ? thread_name.substring(0, 43) + '...' : thread_name;\n          lastActivity = React.createElement(\"div\", {\n            className: \"home-row\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 57\n            },\n            __self: this\n          }, React.createElement(Avatar, {\n            className: \"home-avatar\",\n            avatar: avatar,\n            centered: false,\n            link: \"/user/\".concat(username),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 58\n            },\n            __self: this\n          }), React.createElement(\"div\", {\n            className: \"home-column\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 64\n            },\n            __self: this\n          }, React.createElement(\"div\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 65\n            },\n            __self: this\n          }, React.createElement(Icon, {\n            name: pinned ? 'pin' : 'talk outline',\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 66\n            },\n            __self: this\n          }), React.createElement(Link, {\n            to: \"/thread/\".concat(thread_id),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 67\n            },\n            __self: this\n          }, thread_name)), React.createElement(\"div\", {\n            className: \"home-meta\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 69\n            },\n            __self: this\n          }, React.createElement(Link, {\n            to: \"/user/\".concat(username),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 70\n            },\n            __self: this\n          }, React.createElement(Icon, {\n            name: \"user\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 71\n            },\n            __self: this\n          }), username), React.createElement(\"b\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 74\n            },\n            __self: this\n          }, \"  \\u2014  \".concat(naturaltime)))));\n        }\n\n        return React.createElement(Segment, {\n          vertical: true,\n          key: slug,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 82\n          },\n          __self: this\n        }, React.createElement(Grid, {\n          textAlign: \"left\",\n          padded: \"horizontally\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 83\n          },\n          __self: this\n        }, React.createElement(Grid.Column, {\n          width: 7,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 84\n          },\n          __self: this\n        }, React.createElement(Grid.Row, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 85\n          },\n          __self: this\n        }, React.createElement(Icon, {\n          name: \"edit\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 86\n          },\n          __self: this\n        }), React.createElement(Link, {\n          to: \"/forum/\".concat(slug),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 87\n          },\n          __self: this\n        }, name)), React.createElement(Grid.Row, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 89\n          },\n          __self: this\n        }, description)), React.createElement(Grid.Column, {\n          width: 3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 91\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"home-column home-stats home-vertical\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 92\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          style: {\n            paddingBottom: '5px'\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 93\n          },\n          __self: this\n        }, React.createElement(Icon, {\n          name: \"write\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 94\n          },\n          __self: this\n        }), threads_count, threads_count > 1 ? ' threads' : ' thread'), React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 98\n          },\n          __self: this\n        }, React.createElement(Icon, {\n          name: \"comment outline\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 99\n          },\n          __self: this\n        }), posts_count, posts_count > 1 ? ' posts' : ' post'))), React.createElement(Grid.Column, {\n          width: 6,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 105\n          },\n          __self: this\n        }, lastActivity)));\n      });\n      return React.createElement(\"div\", {\n        className: \"homeContainer\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112\n        },\n        __self: this\n      }, React.createElement(Segment.Group, {\n        className: \"home-list\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113\n        },\n        __self: this\n      }, forumCardList));\n    }\n  }]);\n\n  return ForumList;\n}(Component);\n\nexport { ForumList as default };","map":{"version":3,"sources":["/home/yi/Desktop/rengorum/frontend/src/components/forumlist/index.js"],"names":["React","Component","Link","Segment","Grid","Icon","StatusMessage","Avatar","ForumList","props","isLoading","error","forums","length","forumCardList","map","forum","name","slug","description","posts_count","threads_count","last_activity","lastActivity","thread_id","thread_name","username","avatar","pinned","naturaltime","substring","paddingBottom"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\r\nimport {Link} from 'react-router-dom';\r\nimport {Segment, Grid, Icon} from 'semantic-ui-react';\r\nimport StatusMessage from '../statusmessage';\r\nimport Avatar from '../avatar';\r\nimport './styles.css';\r\n\r\nexport default class ForumList extends Component {\r\n  render() {\r\n    const {isLoading, error, forums} = this.props;\r\n\r\n    if (error || !forums || isLoading || forums.length === 0) {\r\n      return (\r\n        <StatusMessage\r\n          error={error || !forums}\r\n          errorClassName=\"home-error\"\r\n          errorMessage={error}\r\n          loading={isLoading}\r\n          loadingMessage={'We are fetching the homepage for you'}\r\n          nothing={forums && forums.length === 0}\r\n          nothingMessage={'No forum to display'}\r\n          nothingClassName=\"home-error\"\r\n          type=\"default\"\r\n        />\r\n      );\r\n    }\r\n\r\n    const forumCardList = forums.map(forum => {\r\n      const {\r\n        name,\r\n        slug,\r\n        description,\r\n        posts_count,\r\n        threads_count,\r\n        last_activity,\r\n      } = forum;\r\n\r\n      let lastActivity = (\r\n        <div className=\"home-text home-vertical\">{'—  No activity —'}</div>\r\n      );\r\n\r\n      if (last_activity) {\r\n        let {\r\n          thread_id,\r\n          thread_name,\r\n          username,\r\n          avatar,\r\n          pinned,\r\n          naturaltime,\r\n        } = last_activity;\r\n\r\n        thread_name =\r\n          thread_name.length > 43\r\n            ? thread_name.substring(0, 43) + '...'\r\n            : thread_name;\r\n        lastActivity = (\r\n          <div className=\"home-row\">\r\n            <Avatar\r\n              className=\"home-avatar\"\r\n              avatar={avatar}\r\n              centered={false}\r\n              link={`/user/${username}`}\r\n            />\r\n            <div className=\"home-column\">\r\n              <div>\r\n                <Icon name={pinned ? 'pin' : 'talk outline'} />\r\n                <Link to={`/thread/${thread_id}`}>{thread_name}</Link>\r\n              </div>\r\n              <div className=\"home-meta\">\r\n                <Link to={`/user/${username}`}>\r\n                  <Icon name=\"user\" />\r\n                  {username}\r\n                </Link>\r\n                <b>{`  —  ${naturaltime}`}</b>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        );\r\n      }\r\n\r\n      return (\r\n        <Segment vertical key={slug}>\r\n          <Grid textAlign=\"left\" padded=\"horizontally\">\r\n            <Grid.Column width={7}>\r\n              <Grid.Row>\r\n                <Icon name=\"edit\" />\r\n                <Link to={`/forum/${slug}`}>{name}</Link>\r\n              </Grid.Row>\r\n              <Grid.Row>{description}</Grid.Row>\r\n            </Grid.Column>\r\n            <Grid.Column width={3}>\r\n              <div className=\"home-column home-stats home-vertical\">\r\n                <div style={{paddingBottom: '5px'}}>\r\n                  <Icon name=\"write\" />\r\n                  {threads_count}\r\n                  {threads_count > 1 ? ' threads' : ' thread'}\r\n                </div>\r\n                <div>\r\n                  <Icon name=\"comment outline\" />\r\n                  {posts_count}\r\n                  {posts_count > 1 ? ' posts' : ' post'}\r\n                </div>\r\n              </div>\r\n            </Grid.Column>\r\n            <Grid.Column width={6}>{lastActivity}</Grid.Column>\r\n          </Grid>\r\n        </Segment>\r\n      );\r\n    });\r\n\r\n    return (\r\n      <div className=\"homeContainer\">\r\n        <Segment.Group className=\"home-list\">{forumCardList}</Segment.Group>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}